{
    "sourceFile": "ADMIN/User_Management/manage-registar-staff.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 60,
            "patches": [
                {
                    "date": 1748624506135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748624602319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n-                Edit\r\n-              </button>\r\n-                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n-                Delete\r\n-              </button>\r\n-              </div>\r\n-            </td>\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </a>\r\n+  </div>\r\n+</td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748624609330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </a>\r\n-  </div>\r\n-</td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </a>\r\n+          </div>\r\n+          </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748624780939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,9 +161,9 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n             <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n"
                },
                {
                    "date": 1748625088049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <?php\r\n-include 'db.php'; // Make sure db.php has your DB connection\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n"
                },
                {
                    "date": 1748626453684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT id, name, email, position, status FROM staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626650058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT id, name, email, position, status FROM staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT id, name, email, position, status FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626659031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n"
                },
                {
                    "date": 1748626689280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO rergistrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT id, name, email, position, status FROM registrar_staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626786105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,8 +123,12 @@\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n         Add Staff\r\n       </button>\r\n+      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        teacher\r\n+      </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n"
                },
                {
                    "date": 1748626799072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         Add Staff\r\n       </button>\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        teacher\r\n+        Teacher\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n"
                },
                {
                    "date": 1748626879616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,12 +123,8 @@\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n         Add Staff\r\n       </button>\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Teacher\r\n-      </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n"
                },
                {
                    "date": 1748626913332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,8 +234,12 @@\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n               </select>\r\n+              <option value=\"Enrollment Staff\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1748626940965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n               </select>\r\n-              <option value=\"Enrollment Staff\">\r\n+              <option value=\"Teacher\">\r\n                   Teacher\r\n                 </option>\r\n               </select>\r\n               <div class=\"invalid-feedback\">\r\n"
                },
                {
                    "date": 1748626970092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,13 +233,13 @@\n                 </option>\r\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n-              </select>\r\n-              <option value=\"Teacher\">\r\n+                <option value=\"Teacher\">\r\n                   Teacher\r\n                 </option>\r\n               </select>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1748627106346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO rergistrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n"
                },
                {
                    "date": 1748627790175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Staff Accounts</title>\r\n+  <title>Manage Register Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n"
                },
                {
                    "date": 1748628012401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-            <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </a>\r\n-          </div>\r\n-          </td>\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </a>\r\n+  </div>\r\n+</td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748628037902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+<?php\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n+\r\n+// Insert new staff\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+  $name = $_POST['staffName'];\r\n+  $email = $_POST['staffEmail'];\r\n+  $position = $_POST['staffPosition'];\r\n+  $status = $_POST['staffStatus'];\r\n+\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n+  exit();\r\n+}\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n+?>\r\n+<!DOCTYPE html>\r\n+<html lang=\"en\">\r\n+<head>\r\n+  <meta charset=\"UTF-8\" />\r\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n+  <title>Manage Register Staff Accounts</title>\r\n+  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n+  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n+  <link\r\n+    rel=\"stylesheet\"\r\n+    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n+  />\r\n+  <style>\r\n+    body {\r\n+      background-color: #f1f8e9;\r\n+      min-height: 100vh;\r\n+    }\r\n+        .navbar {\r\n+      background-color: #2e7d32;\r\n+    }\r\n+    .navbar-brand, .nav-link {\r\n+      color: #fff !important;\r\n+      font-weight: 600;\r\n+      letter-spacing: 0.05em;\r\n+    }\r\n+    .nav-link:hover {\r\n+      color: #c8e6c9 !important;\r\n+    }\r\n+    .school-logo {\r\n+      width: 50px;\r\n+      height: 50px;\r\n+      object-fit: cover;\r\n+      border-radius: 50%;\r\n+      margin-right: 10px;\r\n+      border: 2px solid #fff;\r\n+    }\r\n+    .container {\r\n+      max-width: 960px;\r\n+      margin-top: 40px;\r\n+    }\r\n+    .card {\r\n+      border-radius: 1rem;\r\n+      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n+    }\r\n+    .modal-header {\r\n+      background-color: #43a047;\r\n+      color: white;\r\n+      border-top-left-radius: 1rem;\r\n+      border-top-right-radius: 1rem;\r\n+    }\r\n+    .btn-success:hover {\r\n+      filter: brightness(0.9);\r\n+      transition: filter 0.2s ease-in-out;\r\n+    }\r\n+    .table-responsive {\r\n+      background: white;\r\n+      padding: 0.75rem;\r\n+      border-radius: 0.5rem;\r\n+      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n+    }\r\n+\r\n+    @media (max-width: 576px) {\r\n+      .btn-group {\r\n+        flex-direction: column;\r\n+        gap: 0.3rem;\r\n+      }\r\n+      .btn-group .btn {\r\n+        width: 100%;\r\n+      }\r\n+    }\r\n+  </style>\r\n+</head>\r\n+<body>\r\n+  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n+      </button>\r\n+      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n+        <ul class=\"navbar-nav ms-auto\">\r\n+          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n+      </div>\r\n+    </div>\r\n+  </nav> \r\n+  <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n+    <div class=\"d-flex justify-content-end mb-3\">\r\n+      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n+      </button>\r\n+    </div>\r\n+    <div class=\"table-responsive\">\r\n+      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n+        <thead class=\"table-success text-center\">\r\n+          <tr>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n+          </tr>\r\n+        </thead>\r\n+        <tbody>\r\n+          <?php foreach ($staffList as $staff): ?>\r\n+          <tr>\r\n+            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n+            <td class=\"text-center\">\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n+            </td>\r\n+            <td class=\"text-center\">\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </button>\r\n+  </div>\r\n+</td>\r\n+          </tr>\r\n+          <?php endforeach; ?>\r\n+        </tbody>\r\n+      </table>\r\n+    </div>\r\n+  </div>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+        </div>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <script>\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+  </script>\r\n+</body>\r\n+</html>\r\n"
                },
                {
                    "date": 1748628038993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -293,300 +293,4 @@\n     })();\r\n   </script>\r\n </body>\r\n </html>\r\n-<?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n-\r\n-// Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n-\r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n-}\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n-?>\r\n-<!DOCTYPE html>\r\n-<html lang=\"en\">\r\n-<head>\r\n-  <meta charset=\"UTF-8\" />\r\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n-  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n-  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n-  <link\r\n-    rel=\"stylesheet\"\r\n-    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n-  />\r\n-  <style>\r\n-    body {\r\n-      background-color: #f1f8e9;\r\n-      min-height: 100vh;\r\n-    }\r\n-        .navbar {\r\n-      background-color: #2e7d32;\r\n-    }\r\n-    .navbar-brand, .nav-link {\r\n-      color: #fff !important;\r\n-      font-weight: 600;\r\n-      letter-spacing: 0.05em;\r\n-    }\r\n-    .nav-link:hover {\r\n-      color: #c8e6c9 !important;\r\n-    }\r\n-    .school-logo {\r\n-      width: 50px;\r\n-      height: 50px;\r\n-      object-fit: cover;\r\n-      border-radius: 50%;\r\n-      margin-right: 10px;\r\n-      border: 2px solid #fff;\r\n-    }\r\n-    .container {\r\n-      max-width: 960px;\r\n-      margin-top: 40px;\r\n-    }\r\n-    .card {\r\n-      border-radius: 1rem;\r\n-      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n-    }\r\n-    .modal-header {\r\n-      background-color: #43a047;\r\n-      color: white;\r\n-      border-top-left-radius: 1rem;\r\n-      border-top-right-radius: 1rem;\r\n-    }\r\n-    .btn-success:hover {\r\n-      filter: brightness(0.9);\r\n-      transition: filter 0.2s ease-in-out;\r\n-    }\r\n-    .table-responsive {\r\n-      background: white;\r\n-      padding: 0.75rem;\r\n-      border-radius: 0.5rem;\r\n-      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n-    }\r\n-\r\n-    @media (max-width: 576px) {\r\n-      .btn-group {\r\n-        flex-direction: column;\r\n-        gap: 0.3rem;\r\n-      }\r\n-      .btn-group .btn {\r\n-        width: 100%;\r\n-      }\r\n-    }\r\n-  </style>\r\n-</head>\r\n-<body>\r\n-  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n-      </button>\r\n-      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n-        <ul class=\"navbar-nav ms-auto\">\r\n-          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n-      </div>\r\n-    </div>\r\n-  </nav> \r\n-  <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n-    <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n-      </button>\r\n-    </div>\r\n-    <div class=\"table-responsive\">\r\n-      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n-        <thead class=\"table-success text-center\">\r\n-          <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          <?php foreach ($staffList as $staff): ?>\r\n-          <tr>\r\n-            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n-            <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n-            </td>\r\n-            <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </a>\r\n-  </div>\r\n-</td>\r\n-          </tr>\r\n-          <?php endforeach; ?>\r\n-        </tbody>\r\n-      </table>\r\n-    </div>\r\n-  </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-      <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n-          <div class=\"modal-body\">\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n-              </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n-          </div>\r\n-        </form>\r\n-      </div>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-  </script>\r\n-</body>\r\n-</html>\r\n"
                },
                {
                    "date": 1748628064955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </button>\r\n-  </div>\r\n-</td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n@@ -290,7 +290,23 @@\n           form.classList.add('was-validated');\r\n         });\r\n       });\r\n     })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748628801968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,39 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -40,9 +64,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -97,57 +121,43 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n+  </nav>\r\n+\r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -156,157 +166,80 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+\r\n+  <!-- Edit Staff Modal -->\r\n+  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog\">\r\n       <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n+        <form method=\"POST\">\r\n+          <div class=\"modal-header bg-warning\">\r\n+            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n+            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+          </div>\r\n           <div class=\"modal-body\">\r\n+            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n+              <label>Full Name</label>\r\n+              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n+              <label>Email</label>\r\n+              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n+              <label>Position</label>\r\n+              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n+                <option>Registrar</option>\r\n+                <option>Enrollment Staff</option>\r\n+                <option>Teacher</option>\r\n               </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n+              <label>Status</label>\r\n+              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n+                <option>Active</option>\r\n+                <option>Inactive</option>\r\n               </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n             </div>\r\n           </div>\r\n           <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n+            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-\r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n+    function openEditModal(id, name, email, position, status) {\r\n+      document.getElementById('edit_id').value = id;\r\n+      document.getElementById('edit_name').value = name;\r\n+      document.getElementById('edit_email').value = email;\r\n+      document.getElementById('edit_position').value = position;\r\n+      document.getElementById('edit_status').value = status;\r\n+    }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748649226854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,49 +189,54 @@\n     </div>\r\n   </div>\r\n \r\n   <!-- Edit Staff Modal -->\r\n-  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog\">\r\n-      <div class=\"modal-content\">\r\n-        <form method=\"POST\">\r\n-          <div class=\"modal-header bg-warning\">\r\n-            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n-            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+  <?php foreach ($staffList as $staff): ?>\r\n+<div class=\"modal fade\" id=\"editStaffModal<?= $staff['id'] ?>\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel<?= $staff['id'] ?>\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog\">\r\n+    <div class=\"modal-content\">\r\n+      <form method=\"POST\">\r\n+        <div class=\"modal-header bg-warning\">\r\n+          <h5 class=\"modal-title\" id=\"editStaffModalLabel<?= $staff['id'] ?>\">Edit Staff</h5>\r\n+          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+        </div>\r\n+        <div class=\"modal-body\">\r\n+          <input type=\"hidden\" name=\"edit_id\" value=\"<?= $staff['id'] ?>\">\r\n+          <div class=\"mb-3\">\r\n+            <label>Full Name</label>\r\n+            <input type=\"text\" name=\"edit_name\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['name']) ?>\" required>\r\n           </div>\r\n-          <div class=\"modal-body\">\r\n-            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n-            <div class=\"mb-3\">\r\n-              <label>Full Name</label>\r\n-              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Email</label>\r\n-              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Position</label>\r\n-              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n-                <option>Registrar</option>\r\n-                <option>Enrollment Staff</option>\r\n-                <option>Teacher</option>\r\n-              </select>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Status</label>\r\n-              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n-                <option>Active</option>\r\n-                <option>Inactive</option>\r\n-              </select>\r\n-            </div>\r\n+          <div class=\"mb-3\">\r\n+            <label>Email</label>\r\n+            <input type=\"email\" name=\"edit_email\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['email']) ?>\" required>\r\n           </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n+          <div class=\"mb-3\">\r\n+            <label>Position</label>\r\n+            <select name=\"edit_position\" class=\"form-select\" required>\r\n+              <?php\r\n+                $positions = ['Registrar', 'Enrollment Staff', 'Teacher'];\r\n+                foreach ($positions as $pos):\r\n+              ?>\r\n+                <option value=\"<?= $pos ?>\" <?= $staff['position'] === $pos ? 'selected' : '' ?>><?= $pos ?></option>\r\n+              <?php endforeach; ?>\r\n+            </select>\r\n           </div>\r\n-        </form>\r\n-      </div>\r\n+          <div class=\"mb-3\">\r\n+            <label>Status</label>\r\n+            <select name=\"edit_status\" class=\"form-select\" required>\r\n+              <option value=\"Active\" <?= $staff['status'] === 'Active' ? 'selected' : '' ?>>Active</option>\r\n+              <option value=\"Inactive\" <?= $staff['status'] === 'Inactive' ? 'selected' : '' ?>>Inactive</option>\r\n+            </select>\r\n+          </div>\r\n+        </div>\r\n+        <div class=\"modal-footer\">\r\n+          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n+        </div>\r\n+      </form>\r\n     </div>\r\n   </div>\r\n+</div>\r\n+<?php endforeach; ?>\r\n \r\n   <script>\r\n     function openEditModal(id, name, email, position, status) {\r\n       document.getElementById('edit_id').value = id;\r\n"
                },
                {
                    "date": 1748649386602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,39 +15,15 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -64,9 +40,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -121,43 +97,57 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n+  </nav> \r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -166,85 +156,157 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-\r\n-  <!-- Edit Staff Modal -->\r\n-  <?php foreach ($staffList as $staff): ?>\r\n-<div class=\"modal fade\" id=\"editStaffModal<?= $staff['id'] ?>\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel<?= $staff['id'] ?>\" aria-hidden=\"true\">\r\n-  <div class=\"modal-dialog\">\r\n-    <div class=\"modal-content\">\r\n-      <form method=\"POST\">\r\n-        <div class=\"modal-header bg-warning\">\r\n-          <h5 class=\"modal-title\" id=\"editStaffModalLabel<?= $staff['id'] ?>\">Edit Staff</h5>\r\n-          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n         </div>\r\n-        <div class=\"modal-body\">\r\n-          <input type=\"hidden\" name=\"edit_id\" value=\"<?= $staff['id'] ?>\">\r\n-          <div class=\"mb-3\">\r\n-            <label>Full Name</label>\r\n-            <input type=\"text\" name=\"edit_name\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['name']) ?>\" required>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Email</label>\r\n-            <input type=\"email\" name=\"edit_email\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['email']) ?>\" required>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Position</label>\r\n-            <select name=\"edit_position\" class=\"form-select\" required>\r\n-              <?php\r\n-                $positions = ['Registrar', 'Enrollment Staff', 'Teacher'];\r\n-                foreach ($positions as $pos):\r\n-              ?>\r\n-                <option value=\"<?= $pos ?>\" <?= $staff['position'] === $pos ? 'selected' : '' ?>><?= $pos ?></option>\r\n-              <?php endforeach; ?>\r\n-            </select>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Status</label>\r\n-            <select name=\"edit_status\" class=\"form-select\" required>\r\n-              <option value=\"Active\" <?= $staff['status'] === 'Active' ? 'selected' : '' ?>>Active</option>\r\n-              <option value=\"Inactive\" <?= $staff['status'] === 'Inactive' ? 'selected' : '' ?>>Inactive</option>\r\n-            </select>\r\n-          </div>\r\n-        </div>\r\n-        <div class=\"modal-footer\">\r\n-          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n-        </div>\r\n-      </form>\r\n+        </form>\r\n+      </div>\r\n     </div>\r\n   </div>\r\n-</div>\r\n-<?php endforeach; ?>\r\n \r\n   <script>\r\n-    function openEditModal(id, name, email, position, status) {\r\n-      document.getElementById('edit_id').value = id;\r\n-      document.getElementById('edit_name').value = name;\r\n-      document.getElementById('edit_email').value = email;\r\n-      document.getElementById('edit_position').value = position;\r\n-      document.getElementById('edit_status').value = status;\r\n-    }\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748649923326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,27 @@\n <?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n+$staffList = [\r\n+  ['id' => 101, 'name' => 'jerick reyes', 'email' => 'delacruzreyes@email.com', 'position' => 'Registrar', 'status' => 'Active'],\r\n+  ['id' => 102, 'name' => 'jerick dela cruz', 'email' => 'jerickdelacruz@email.com', 'position' => 'Enrollment Staff', 'status' => 'Inactive']\r\n+];\r\n \r\n-// Insert new staff\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n-\r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n+  $newStaff = [\r\n+    'id' => rand(103, 999),\r\n+    'name' => $_POST['staffName'],\r\n+    'email' => $_POST['staffEmail'],\r\n+    'position' => $_POST['staffPosition'],\r\n+    'status' => $_POST['staffStatus']\r\n+  ];\r\n+  $staffList[] = $newStaff;\r\n }\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n ?>\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n+  <title>Manage Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n@@ -161,17 +153,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n+                Edit\r\n+              </button>\r\n+                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n+                Delete\r\n+              </button>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n@@ -233,13 +225,9 @@\n                 </option>\r\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n               </select>\r\n-              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n@@ -290,23 +278,7 @@\n           form.classList.add('was-validated');\r\n         });\r\n       });\r\n     })();\r\n-\r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748649945458,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,35 @@\n <?php\r\n-$staffList = [\r\n-  ['id' => 101, 'name' => 'jerick reyes', 'email' => 'delacruzreyes@email.com', 'position' => 'Registrar', 'status' => 'Active'],\r\n-  ['id' => 102, 'name' => 'jerick dela cruz', 'email' => 'jerickdelacruz@email.com', 'position' => 'Enrollment Staff', 'status' => 'Inactive']\r\n-];\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n+// Insert new staff\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $newStaff = [\r\n-    'id' => rand(103, 999),\r\n-    'name' => $_POST['staffName'],\r\n-    'email' => $_POST['staffEmail'],\r\n-    'position' => $_POST['staffPosition'],\r\n-    'status' => $_POST['staffStatus']\r\n-  ];\r\n-  $staffList[] = $newStaff;\r\n+  $name = $_POST['staffName'];\r\n+  $email = $_POST['staffEmail'];\r\n+  $position = $_POST['staffPosition'];\r\n+  $status = $_POST['staffStatus'];\r\n+\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n+  exit();\r\n }\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n ?>\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Staff Accounts</title>\r\n+  <title>Manage Register Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n@@ -153,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n-                Edit\r\n-              </button>\r\n-                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n-                Delete\r\n-              </button>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n@@ -225,9 +233,13 @@\n                 </option>\r\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n               </select>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n@@ -278,7 +290,23 @@\n           form.classList.add('was-validated');\r\n         });\r\n       });\r\n     })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748650224425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,5 +308,5 @@\n     });\r\n   }\r\n   </script>\r\n </body>\r\n-</html>\r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748650365598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -165,11 +165,12 @@\n           <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n+            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n+  <i class=\"bi bi-trash\"></i> Delete\r\n+</button>\r\n+\r\n           </div>\r\n         </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n"
                },
                {
                    "date": 1748650374436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -166,11 +166,10 @@\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n             <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n-  <i class=\"bi bi-trash\"></i> Delete\r\n-</button>\r\n-\r\n+          <i class=\"bi bi-trash\"></i> Delete\r\n+        </button>\r\n           </div>\r\n         </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n"
                },
                {
                    "date": 1748650657473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,137 +176,58 @@\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+  <!-- Edit Staff Modal -->\r\n+  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog\">\r\n       <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n+        <form method=\"POST\">\r\n+          <div class=\"modal-header bg-warning\">\r\n+            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n+            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+          </div>\r\n           <div class=\"modal-body\">\r\n+            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n+              <label>Full Name</label>\r\n+              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n+              <label>Email</label>\r\n+              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n+              <label>Position</label>\r\n+              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n+                <option>Registrar</option>\r\n+                <option>Enrollment Staff</option>\r\n+                <option>Teacher</option>\r\n               </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n+              <label>Status</label>\r\n+              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n+                <option>Active</option>\r\n+                <option>Inactive</option>\r\n               </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n             </div>\r\n           </div>\r\n           <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n+            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-\r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n+    function openEditModal(id, name, email, position, status) {\r\n+      document.getElementById('edit_id').value = id;\r\n+      document.getElementById('edit_name').value = name;\r\n+      document.getElementById('edit_email').value = email;\r\n+      document.getElementById('edit_position').value = position;\r\n+      document.getElementById('edit_status').value = status;\r\n+    }\r\n   </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748650690814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,39 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -40,9 +64,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -97,57 +121,43 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n+  </nav>\r\n+\r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -156,78 +166,25 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n-          <i class=\"bi bi-trash\"></i> Delete\r\n-        </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n-  </div>\r\n-  <!-- Edit Staff Modal -->\r\n-  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog\">\r\n-      <div class=\"modal-content\">\r\n-        <form method=\"POST\">\r\n-          <div class=\"modal-header bg-warning\">\r\n-            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n-            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n-          </div>\r\n-          <div class=\"modal-body\">\r\n-            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n-            <div class=\"mb-3\">\r\n-              <label>Full Name</label>\r\n-              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Email</label>\r\n-              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Position</label>\r\n-              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n-                <option>Registrar</option>\r\n-                <option>Enrollment Staff</option>\r\n-                <option>Teacher</option>\r\n-              </select>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Status</label>\r\n-              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n-                <option>Active</option>\r\n-                <option>Inactive</option>\r\n-              </select>\r\n-            </div>\r\n-          </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n-          </div>\r\n-        </form>\r\n-      </div>\r\n-    </div>\r\n\\ No newline at end of file\n-  </div>\r\n-\r\n-  <script>\r\n-    function openEditModal(id, name, email, position, status) {\r\n-      document.getElementById('edit_id').value = id;\r\n-      document.getElementById('edit_name').value = name;\r\n-      document.getElementById('edit_email').value = email;\r\n-      document.getElementById('edit_position').value = position;\r\n-      document.getElementById('edit_status').value = status;\r\n-    }\r\n-  </script>\r\n-</body>\r\n-</html>\n+  </div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748650718371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,39 +15,15 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -64,9 +40,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -121,43 +97,57 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n+  </nav> \r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -166,25 +156,157 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n\\ No newline at end of file\n+            </a>\r\n+            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n+          <i class=\"bi bi-trash\"></i> Delete\r\n+        </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n-  </div>\n+  </div>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+        </div>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <script>\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n+  </script>\r\n+</body>\r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748650753932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,40 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n"
                },
                {
                    "date": 1748650783652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -122,25 +122,26 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n+  </nav>\r\n+   \r\n   <div class=\"container\">\r\n     <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n       Manage Registrar/Staff Accounts\r\n     </h2>\r\n"
                },
                {
                    "date": 1748650859167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,41 +139,26 @@\n         </ul>\r\n       </div>\r\n     </div>\r\n   </nav>\r\n-   \r\n-  <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+\r\n+   <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -182,28 +167,30 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n-          <i class=\"bi bi-trash\"></i> Delete\r\n-        </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n+  \r\n   <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n     <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n       <div class=\"modal-content\">\r\n         <div class=\"modal-header\">\r\n"
                },
                {
                    "date": 1748651609475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,40 +15,15 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n-\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -65,9 +40,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -122,43 +97,57 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n-   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+  </nav> \r\n+  <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -167,30 +156,28 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  \r\n   <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n     <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n       <div class=\"modal-content\">\r\n         <div class=\"modal-header\">\r\n"
                },
                {
                    "date": 1748651648208,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,40 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -40,9 +65,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -97,57 +122,43 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n-  <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+  </nav>\r\n+\r\n+   <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -156,28 +167,30 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n+  \r\n   <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n     <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n       <div class=\"modal-content\">\r\n         <div class=\"modal-header\">\r\n"
                },
                {
                    "date": 1748652348147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,106 +189,51 @@\n       </table>\r\n     </div>\r\n   </div>\r\n   \r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-      <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n-          <div class=\"modal-body\">\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n-              </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n-            </div>\r\n+  <!-- Edit Staff Modal -->\r\n+<div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+    <div class=\"modal-content\">\r\n+      <div class=\"modal-header\">\r\n+        <h5 class=\"modal-title\" id=\"editStaffModalLabel\">Edit Staff Information</h5>\r\n+        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+      </div>\r\n+      <form method=\"POST\">\r\n+        <div class=\"modal-body\">\r\n+          <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_name\" class=\"form-label\">Full Name</label>\r\n+            <input type=\"text\" class=\"form-control\" name=\"edit_name\" id=\"edit_name\" required>\r\n           </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_email\" class=\"form-label\">Email</label>\r\n+            <input type=\"email\" class=\"form-control\" name=\"edit_email\" id=\"edit_email\" required>\r\n           </div>\r\n-        </form>\r\n-      </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_position\" class=\"form-label\">Position</label>\r\n+            <select class=\"form-select\" name=\"edit_position\" id=\"edit_position\" required>\r\n+              <option value=\"Registrar\">Registrar</option>\r\n+              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n+              <option value=\"Teacher\">Teacher</option>\r\n+            </select>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_status\" class=\"form-label\">Status</label>\r\n+            <select class=\"form-select\" name=\"edit_status\" id=\"edit_status\" required>\r\n+              <option value=\"Active\">Active</option>\r\n+              <option value=\"Inactive\">Inactive</option>\r\n+            </select>\r\n+          </div>\r\n+        </div>\r\n+        <div class=\"modal-footer\">\r\n+          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-success\">Update Staff</button>\r\n+        </div>\r\n+      </form>\r\n     </div>\r\n   </div>\r\n+</div>\r\n \r\n   <script>\r\n     (() => {\r\n       'use strict';\r\n@@ -304,8 +249,16 @@\n         });\r\n       });\r\n     })();\r\n \r\n+    function openEditModal(id, name, email, position, status) {\r\n+  document.getElementById('edit_id').value = id;\r\n+  document.getElementById('edit_name').value = name;\r\n+  document.getElementById('edit_email').value = email;\r\n+  document.getElementById('edit_position').value = position;\r\n+  document.getElementById('edit_status').value = status;\r\n+}\r\n+\r\n       function confirmDelete(id) {\r\n     Swal.fire({\r\n       title: 'Are you sure?',\r\n       text: 'This staff account will be permanently deleted.',\r\n"
                },
                {
                    "date": 1748652415815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,52 +188,106 @@\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  \r\n-  <!-- Edit Staff Modal -->\r\n-<div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel\" aria-hidden=\"true\">\r\n-  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-    <div class=\"modal-content\">\r\n-      <div class=\"modal-header\">\r\n-        <h5 class=\"modal-title\" id=\"editStaffModalLabel\">Edit Staff Information</h5>\r\n-        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-      </div>\r\n-      <form method=\"POST\">\r\n-        <div class=\"modal-body\">\r\n-          <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"edit_name\" class=\"form-label\">Full Name</label>\r\n-            <input type=\"text\" class=\"form-control\" name=\"edit_name\" id=\"edit_name\" required>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+        </div>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"edit_email\" class=\"form-label\">Email</label>\r\n-            <input type=\"email\" class=\"form-control\" name=\"edit_email\" id=\"edit_email\" required>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"edit_position\" class=\"form-label\">Position</label>\r\n-            <select class=\"form-select\" name=\"edit_position\" id=\"edit_position\" required>\r\n-              <option value=\"Registrar\">Registrar</option>\r\n-              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n-              <option value=\"Teacher\">Teacher</option>\r\n-            </select>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"edit_status\" class=\"form-label\">Status</label>\r\n-            <select class=\"form-select\" name=\"edit_status\" id=\"edit_status\" required>\r\n-              <option value=\"Active\">Active</option>\r\n-              <option value=\"Inactive\">Inactive</option>\r\n-            </select>\r\n-          </div>\r\n-        </div>\r\n-        <div class=\"modal-footer\">\r\n-          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-success\">Update Staff</button>\r\n-        </div>\r\n-      </form>\r\n+        </form>\r\n+      </div>\r\n     </div>\r\n   </div>\r\n-</div>\r\n \r\n   <script>\r\n     (() => {\r\n       'use strict';\r\n@@ -249,16 +303,8 @@\n         });\r\n       });\r\n     })();\r\n \r\n-    function openEditModal(id, name, email, position, status) {\r\n-  document.getElementById('edit_id').value = id;\r\n-  document.getElementById('edit_name').value = name;\r\n-  document.getElementById('edit_email').value = email;\r\n-  document.getElementById('edit_position').value = position;\r\n-  document.getElementById('edit_status').value = status;\r\n-}\r\n-\r\n       function confirmDelete(id) {\r\n     Swal.fire({\r\n       title: 'Are you sure?',\r\n       text: 'This staff account will be permanently deleted.',\r\n"
                },
                {
                    "date": 1748652470830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,27 +138,41 @@\n           </a></li>\r\n         </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n-   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+  </nav> \r\n+  <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -167,23 +181,22 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n+          <i class=\"bi bi-trash\"></i> Delete\r\n+        </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748652507195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,40 +15,15 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n-\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -65,9 +40,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -122,22 +97,22 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n   </nav> \r\n   <div class=\"container\">\r\n@@ -190,11 +165,11 @@\n           <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n-            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n-          <i class=\"bi bi-trash\"></i> Delete\r\n-        </button>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n           </div>\r\n         </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n"
                },
                {
                    "date": 1748652598345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,8 +269,11 @@\n             </button>\r\n             <button type=\"submit\" class=\"btn btn-success\">\r\n               Add Staff\r\n             </button>\r\n+            <div class=\"modal-footer\">\r\n+          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-success\">Update Staff</button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1748652619322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,11 +269,8 @@\n             </button>\r\n             <button type=\"submit\" class=\"btn btn-success\">\r\n               Add Staff\r\n             </button>\r\n-            <div class=\"modal-footer\">\r\n-          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-success\">Update Staff</button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1748652644434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,40 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -40,9 +65,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -97,22 +122,22 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n   </nav> \r\n   <div class=\"container\">\r\n@@ -165,11 +190,11 @@\n           <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n+            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n+          <i class=\"bi bi-trash\"></i> Delete\r\n+        </button>\r\n           </div>\r\n         </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n"
                },
                {
                    "date": 1748652658841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -122,22 +122,22 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n   </nav> \r\n   <div class=\"container\">\r\n"
                },
                {
                    "date": 1748652781406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,40 @@\n   $staffList[] = $row;\r\n }\r\n ?>\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n \r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n+?>\r\n+\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n"
                },
                {
                    "date": 1748652865899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,40 +46,9 @@\n   $staffList[] = $row;\r\n }\r\n ?>\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n \r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n-?>\r\n-\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -96,9 +65,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -153,57 +122,43 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n-  <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+  </nav>\r\n+\r\n+   <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -212,28 +167,30 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger\" title=\"Delete\" onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n-          <i class=\"bi bi-trash\"></i> Delete\r\n-        </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n+  \r\n   <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n     <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n       <div class=\"modal-content\">\r\n         <div class=\"modal-header\">\r\n"
                },
                {
                    "date": 1748653099134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,7 +319,15 @@\n         window.location.href = 'delete-staff.php?id=' + id;\r\n       }\r\n     });\r\n   }\r\n+\r\n+  function openEditModal(id, name, email, position, status) {\r\n+    document.getElementById('edit_id').value = id;\r\n+    document.getElementById('edit_name').value = name;\r\n+    document.getElementById('edit_email').value = email;\r\n+    document.getElementById('edit_position').value = position;\r\n+    document.getElementById('edit_status').value = status;\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748653232188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,106 +189,51 @@\n       </table>\r\n     </div>\r\n   </div>\r\n   \r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-      <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n-          <div class=\"modal-body\">\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n-              </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n-            </div>\r\n+ <!-- Edit Staff Modal -->\r\n+<div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+    <div class=\"modal-content\">\r\n+      <div class=\"modal-header bg-warning text-white\">\r\n+        <h5 class=\"modal-title\" id=\"editStaffModalLabel\">Edit Staff</h5>\r\n+        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+      </div>\r\n+      <form method=\"POST\">\r\n+        <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n+        <div class=\"modal-body\">\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_name\" class=\"form-label\">Full Name</label>\r\n+            <input type=\"text\" class=\"form-control\" id=\"edit_name\" name=\"edit_name\" required>\r\n           </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_email\" class=\"form-label\">Email</label>\r\n+            <input type=\"email\" class=\"form-control\" id=\"edit_email\" name=\"edit_email\" required>\r\n           </div>\r\n-        </form>\r\n-      </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_position\" class=\"form-label\">Position</label>\r\n+            <select class=\"form-select\" id=\"edit_position\" name=\"edit_position\" required>\r\n+              <option value=\"Registrar\">Registrar</option>\r\n+              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n+              <option value=\"Teacher\">Teacher</option>\r\n+            </select>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"edit_status\" class=\"form-label\">Status</label>\r\n+            <select class=\"form-select\" id=\"edit_status\" name=\"edit_status\" required>\r\n+              <option value=\"Active\">Active</option>\r\n+              <option value=\"Inactive\">Inactive</option>\r\n+            </select>\r\n+          </div>\r\n+        </div>\r\n+        <div class=\"modal-footer\">\r\n+          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update Staff</button>\r\n+        </div>\r\n+      </form>\r\n     </div>\r\n   </div>\r\n+</div>\r\n \r\n   <script>\r\n     (() => {\r\n       'use strict';\r\n"
                },
                {
                    "date": 1748653289658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,6 +273,7 @@\n     document.getElementById('edit_position').value = position;\r\n     document.getElementById('edit_status').value = status;\r\n   }\r\n   </script>\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748653455031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,51 +190,50 @@\n     </div>\r\n   </div>\r\n   \r\n  <!-- Edit Staff Modal -->\r\n-<div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel\" aria-hidden=\"true\">\r\n+<!-- Add Staff Modal -->\r\n+<div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n   <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n     <div class=\"modal-content\">\r\n-      <div class=\"modal-header bg-warning text-white\">\r\n-        <h5 class=\"modal-title\" id=\"editStaffModalLabel\">Edit Staff</h5>\r\n+      <div class=\"modal-header bg-success text-white\">\r\n+        <h5 class=\"modal-title\" id=\"addStaffModalLabel\">Add New Staff</h5>\r\n         <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n       </div>\r\n       <form method=\"POST\">\r\n-        <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n         <div class=\"modal-body\">\r\n           <div class=\"mb-3\">\r\n-            <label for=\"edit_name\" class=\"form-label\">Full Name</label>\r\n-            <input type=\"text\" class=\"form-control\" id=\"edit_name\" name=\"edit_name\" required>\r\n+            <label for=\"staffName\" class=\"form-label\">Full Name</label>\r\n+            <input type=\"text\" class=\"form-control\" id=\"staffName\" name=\"staffName\" required>\r\n           </div>\r\n           <div class=\"mb-3\">\r\n-            <label for=\"edit_email\" class=\"form-label\">Email</label>\r\n-            <input type=\"email\" class=\"form-control\" id=\"edit_email\" name=\"edit_email\" required>\r\n+            <label for=\"staffEmail\" class=\"form-label\">Email</label>\r\n+            <input type=\"email\" class=\"form-control\" id=\"staffEmail\" name=\"staffEmail\" required>\r\n           </div>\r\n           <div class=\"mb-3\">\r\n-            <label for=\"edit_position\" class=\"form-label\">Position</label>\r\n-            <select class=\"form-select\" id=\"edit_position\" name=\"edit_position\" required>\r\n+            <label for=\"staffPosition\" class=\"form-label\">Position</label>\r\n+            <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n               <option value=\"Registrar\">Registrar</option>\r\n               <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n               <option value=\"Teacher\">Teacher</option>\r\n             </select>\r\n           </div>\r\n           <div class=\"mb-3\">\r\n-            <label for=\"edit_status\" class=\"form-label\">Status</label>\r\n-            <select class=\"form-select\" id=\"edit_status\" name=\"edit_status\" required>\r\n+            <label for=\"staffStatus\" class=\"form-label\">Status</label>\r\n+            <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n               <option value=\"Active\">Active</option>\r\n               <option value=\"Inactive\">Inactive</option>\r\n             </select>\r\n           </div>\r\n         </div>\r\n         <div class=\"modal-footer\">\r\n           <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update Staff</button>\r\n+          <button type=\"submit\" class=\"btn btn-success\">Add Staff</button>\r\n         </div>\r\n       </form>\r\n     </div>\r\n   </div>\r\n </div>\r\n-\r\n   <script>\r\n     (() => {\r\n       'use strict';\r\n       const forms = document.querySelectorAll('form');\r\n"
                },
                {
                    "date": 1748653669633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n       }\r\n     }\r\n   </style>\r\n </head>\r\n-<body>\r\n+<body class=\"p-4\">\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n     <div class=\"container-fluid\">\r\n       <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n         <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n"
                },
                {
                    "date": 1748653682615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n     </div>\r\n   </nav>\r\n \r\n    <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+        <h2 class=\"mb-4\">Staff Management</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n"
                },
                {
                    "date": 1748653707699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,11 +143,11 @@\n \r\n    <div class=\"container\">\r\n         <h2 class=\"mb-4\">Staff Management</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n-      </button>\r\n+      <button class=\"btn btn-primary mb-3\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+            <i class=\"fas fa-user-plus\"></i> Add Staff\r\n+        </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n"
                },
                {
                    "date": 1748653769337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,284 @@\n+<?php\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n+\r\n+// Insert new staff\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+  $name = $_POST['staffName'];\r\n+  $email = $_POST['staffEmail'];\r\n+  $position = $_POST['staffPosition'];\r\n+  $status = $_POST['staffStatus'];\r\n+\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n+  exit();\r\n+}\r\n+\r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n+?>\r\n+\r\n+\r\n+<!DOCTYPE html>\r\n+<html lang=\"en\">\r\n+<head>\r\n+  <meta charset=\"UTF-8\" />\r\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n+  <title>Manage Register Staff Accounts</title>\r\n+  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n+  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n+  <link\r\n+    rel=\"stylesheet\"\r\n+    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n+  />\r\n+  <style>\r\n+    body {\r\n+      background-color: #f1f8e9;\r\n+      min-height: 100vh;\r\n+    }\r\n+    .navbar {\r\n+      background-color: #2e7d32;\r\n+    }\r\n+    .navbar-brand, .nav-link {\r\n+      color: #fff !important;\r\n+      font-weight: 600;\r\n+      letter-spacing: 0.05em;\r\n+    }\r\n+    .nav-link:hover {\r\n+      color: #c8e6c9 !important;\r\n+    }\r\n+    .school-logo {\r\n+      width: 50px;\r\n+      height: 50px;\r\n+      object-fit: cover;\r\n+      border-radius: 50%;\r\n+      margin-right: 10px;\r\n+      border: 2px solid #fff;\r\n+    }\r\n+    .container {\r\n+      max-width: 960px;\r\n+      margin-top: 40px;\r\n+    }\r\n+    .card {\r\n+      border-radius: 1rem;\r\n+      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n+    }\r\n+    .modal-header {\r\n+      background-color: #43a047;\r\n+      color: white;\r\n+      border-top-left-radius: 1rem;\r\n+      border-top-right-radius: 1rem;\r\n+    }\r\n+    .btn-success:hover {\r\n+      filter: brightness(0.9);\r\n+      transition: filter 0.2s ease-in-out;\r\n+    }\r\n+    .table-responsive {\r\n+      background: white;\r\n+      padding: 0.75rem;\r\n+      border-radius: 0.5rem;\r\n+      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n+    }\r\n+\r\n+    @media (max-width: 576px) {\r\n+      .btn-group {\r\n+        flex-direction: column;\r\n+        gap: 0.3rem;\r\n+      }\r\n+      .btn-group .btn {\r\n+        width: 100%;\r\n+      }\r\n+    }\r\n+  </style>\r\n+</head>\r\n+<body class=\"p-4\">\r\n+  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n+      </button>\r\n+      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n+        <ul class=\"navbar-nav ms-auto\">\r\n+          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n+  </nav>\r\n+\r\n+   <div class=\"container\">\r\n+        <h2 class=\"mb-4\">Staff Management</h2>\r\n+    <div class=\"d-flex justify-content-end mb-3\">\r\n+      <button class=\"btn btn-primary mb-3\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+            <i class=\"fas fa-user-plus\"></i> Add Staff\r\n+        </button>\r\n+    </div>\r\n+\r\n+<!-- Staff Table -->\r\n+        <table class=\"table table-bordered table-hover\">\r\n+            <thead class=\"table-dark\">\r\n+                <tr>\r\n+                    <th>Name</th>\r\n+                    <th>Email</th>\r\n+                    <th>Position</th>\r\n+                    <th>Status</th>\r\n+                    <th width=\"160\">Actions</th>\r\n+                </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+                <?php while ($row = mysqli_fetch_assoc($result)) { ?>\r\n+                    <tr>\r\n+                        <td><?= $row['staff_name'] ?></td>\r\n+                        <td><?= $row['staff_email'] ?></td>\r\n+                        <td><?= $row['staff_position'] ?></td>\r\n+                        <td><?= $row['staff_status'] ?></td>\r\n+                        <td>\r\n+                            <button \r\n+                                class=\"btn btn-sm btn-warning editStaffBtn\"\r\n+                                data-id=\"<?= $row['staff_id'] ?>\"\r\n+                                data-name=\"<?= htmlspecialchars($row['staff_name']) ?>\"\r\n+                                data-email=\"<?= htmlspecialchars($row['staff_email']) ?>\"\r\n+                                data-position=\"<?= $row['staff_position'] ?>\"\r\n+                                data-status=\"<?= $row['staff_status'] ?>\"\r\n+                                data-bs-toggle=\"modal\" \r\n+                                data-bs-target=\"#editStaffModal\"\r\n+                            >\r\n+                                <i class=\"fas fa-pen\"></i>\r\n+                            </button>\r\n+                            <button \r\n+                                class=\"btn btn-sm btn-danger deleteStaffBtn\"\r\n+                                data-id=\"<?= $row['staff_id'] ?>\"\r\n+                                data-bs-toggle=\"modal\" \r\n+                                data-bs-target=\"#deleteStaffModal\"\r\n+                            >\r\n+                                <i class=\"fas fa-trash\"></i>\r\n+                            </button>\r\n+                        </td>\r\n+                    </tr>\r\n+                <?php } ?>\r\n+            </tbody>\r\n+        </table>\r\n+    </div>\r\n+  </div>\r\n+  \r\n+ <!-- Edit Staff Modal -->\r\n+<!-- Add Staff Modal -->\r\n+<div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+    <div class=\"modal-content\">\r\n+      <div class=\"modal-header bg-success text-white\">\r\n+        <h5 class=\"modal-title\" id=\"addStaffModalLabel\">Add New Staff</h5>\r\n+        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+      </div>\r\n+      <form method=\"POST\">\r\n+        <div class=\"modal-body\">\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"staffName\" class=\"form-label\">Full Name</label>\r\n+            <input type=\"text\" class=\"form-control\" id=\"staffName\" name=\"staffName\" required>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"staffEmail\" class=\"form-label\">Email</label>\r\n+            <input type=\"email\" class=\"form-control\" id=\"staffEmail\" name=\"staffEmail\" required>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"staffPosition\" class=\"form-label\">Position</label>\r\n+            <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+              <option value=\"Registrar\">Registrar</option>\r\n+              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n+              <option value=\"Teacher\">Teacher</option>\r\n+            </select>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"staffStatus\" class=\"form-label\">Status</label>\r\n+            <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+              <option value=\"Active\">Active</option>\r\n+              <option value=\"Inactive\">Inactive</option>\r\n+            </select>\r\n+          </div>\r\n+        </div>\r\n+        <div class=\"modal-footer\">\r\n+          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+          <button type=\"submit\" class=\"btn btn-success\">Add Staff</button>\r\n+        </div>\r\n+      </form>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n+  <script>\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n+\r\n+  function openEditModal(id, name, email, position, status) {\r\n+    document.getElementById('edit_id').value = id;\r\n+    document.getElementById('edit_name').value = name;\r\n+    document.getElementById('edit_email').value = email;\r\n+    document.getElementById('edit_position').value = position;\r\n+    document.getElementById('edit_status').value = status;\r\n+  }\r\n+  </script>\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n+</body>\r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748653770292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,283 +280,5 @@\n   }\r\n   </script>\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n </body>\r\n-</html>\n-<?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n-\r\n-// Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n-\r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n-}\r\n-\r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n-?>\r\n-\r\n-\r\n-<!DOCTYPE html>\r\n-<html lang=\"en\">\r\n-<head>\r\n-  <meta charset=\"UTF-8\" />\r\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n-  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n-  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n-  <link\r\n-    rel=\"stylesheet\"\r\n-    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n-  />\r\n-  <style>\r\n-    body {\r\n-      background-color: #f1f8e9;\r\n-      min-height: 100vh;\r\n-    }\r\n-    .navbar {\r\n-      background-color: #2e7d32;\r\n-    }\r\n-    .navbar-brand, .nav-link {\r\n-      color: #fff !important;\r\n-      font-weight: 600;\r\n-      letter-spacing: 0.05em;\r\n-    }\r\n-    .nav-link:hover {\r\n-      color: #c8e6c9 !important;\r\n-    }\r\n-    .school-logo {\r\n-      width: 50px;\r\n-      height: 50px;\r\n-      object-fit: cover;\r\n-      border-radius: 50%;\r\n-      margin-right: 10px;\r\n-      border: 2px solid #fff;\r\n-    }\r\n-    .container {\r\n-      max-width: 960px;\r\n-      margin-top: 40px;\r\n-    }\r\n-    .card {\r\n-      border-radius: 1rem;\r\n-      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n-    }\r\n-    .modal-header {\r\n-      background-color: #43a047;\r\n-      color: white;\r\n-      border-top-left-radius: 1rem;\r\n-      border-top-right-radius: 1rem;\r\n-    }\r\n-    .btn-success:hover {\r\n-      filter: brightness(0.9);\r\n-      transition: filter 0.2s ease-in-out;\r\n-    }\r\n-    .table-responsive {\r\n-      background: white;\r\n-      padding: 0.75rem;\r\n-      border-radius: 0.5rem;\r\n-      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n-    }\r\n-\r\n-    @media (max-width: 576px) {\r\n-      .btn-group {\r\n-        flex-direction: column;\r\n-        gap: 0.3rem;\r\n-      }\r\n-      .btn-group .btn {\r\n-        width: 100%;\r\n-      }\r\n-    }\r\n-  </style>\r\n-</head>\r\n-<body class=\"p-4\">\r\n-  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n-      </button>\r\n-      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n-        <ul class=\"navbar-nav ms-auto\">\r\n-          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n-      </div>\r\n-    </div>\r\n-  </nav>\r\n-\r\n-   <div class=\"container\">\r\n-        <h2 class=\"mb-4\">Staff Management</h2>\r\n-    <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-primary mb-3\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-            <i class=\"fas fa-user-plus\"></i> Add Staff\r\n-        </button>\r\n-    </div>\r\n-    <div class=\"table-responsive\">\r\n-      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n-        <thead class=\"table-success text-center\">\r\n-          <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          <?php foreach ($staffList as $staff): ?>\r\n-          <tr>\r\n-            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n-            <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n-            </td>\r\n-            <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n-          </tr>\r\n-          <?php endforeach; ?>\r\n-        </tbody>\r\n-      </table>\r\n-    </div>\r\n-  </div>\r\n-  \r\n- <!-- Edit Staff Modal -->\r\n-<!-- Add Staff Modal -->\r\n-<div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-    <div class=\"modal-content\">\r\n-      <div class=\"modal-header bg-success text-white\">\r\n-        <h5 class=\"modal-title\" id=\"addStaffModalLabel\">Add New Staff</h5>\r\n-        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-      </div>\r\n-      <form method=\"POST\">\r\n-        <div class=\"modal-body\">\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffName\" class=\"form-label\">Full Name</label>\r\n-            <input type=\"text\" class=\"form-control\" id=\"staffName\" name=\"staffName\" required>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffEmail\" class=\"form-label\">Email</label>\r\n-            <input type=\"email\" class=\"form-control\" id=\"staffEmail\" name=\"staffEmail\" required>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffPosition\" class=\"form-label\">Position</label>\r\n-            <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-              <option value=\"Registrar\">Registrar</option>\r\n-              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n-              <option value=\"Teacher\">Teacher</option>\r\n-            </select>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffStatus\" class=\"form-label\">Status</label>\r\n-            <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-              <option value=\"Active\">Active</option>\r\n-              <option value=\"Inactive\">Inactive</option>\r\n-            </select>\r\n-          </div>\r\n-        </div>\r\n-        <div class=\"modal-footer\">\r\n-          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-          <button type=\"submit\" class=\"btn btn-success\">Add Staff</button>\r\n-        </div>\r\n-      </form>\r\n-    </div>\r\n-  </div>\r\n-</div>\r\n-  <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-\r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n-\r\n-  function openEditModal(id, name, email, position, status) {\r\n-    document.getElementById('edit_id').value = id;\r\n-    document.getElementById('edit_name').value = name;\r\n-    document.getElementById('edit_email').value = email;\r\n-    document.getElementById('edit_position').value = position;\r\n-    document.getElementById('edit_status').value = status;\r\n-  }\r\n-  </script>\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n-</body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748653821096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,50 +195,31 @@\n         </table>\r\n     </div>\r\n   </div>\r\n   \r\n- <!-- Edit Staff Modal -->\r\n-<!-- Add Staff Modal -->\r\n-<div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-  <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-    <div class=\"modal-content\">\r\n-      <div class=\"modal-header bg-success text-white\">\r\n-        <h5 class=\"modal-title\" id=\"addStaffModalLabel\">Add New Staff</h5>\r\n-        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-      </div>\r\n-      <form method=\"POST\">\r\n-        <div class=\"modal-body\">\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffName\" class=\"form-label\">Full Name</label>\r\n-            <input type=\"text\" class=\"form-control\" id=\"staffName\" name=\"staffName\" required>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffEmail\" class=\"form-label\">Email</label>\r\n-            <input type=\"email\" class=\"form-control\" id=\"staffEmail\" name=\"staffEmail\" required>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffPosition\" class=\"form-label\">Position</label>\r\n-            <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-              <option value=\"Registrar\">Registrar</option>\r\n-              <option value=\"Enrollment Staff\">Enrollment Staff</option>\r\n-              <option value=\"Teacher\">Teacher</option>\r\n-            </select>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label for=\"staffStatus\" class=\"form-label\">Status</label>\r\n-            <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-              <option value=\"Active\">Active</option>\r\n-              <option value=\"Inactive\">Inactive</option>\r\n-            </select>\r\n-          </div>\r\n+    <!-- Add Staff Modal -->\r\n+    <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\">\r\n+        <div class=\"modal-dialog\">\r\n+            <form method=\"POST\" class=\"modal-content\">\r\n+                <div class=\"modal-header\">\r\n+                    <h5 class=\"modal-title\">Add Staff</h5>\r\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+                </div>\r\n+                <div class=\"modal-body\">\r\n+                    <input name=\"staff_name\" class=\"form-control mb-2\" placeholder=\"Name\" required>\r\n+                    <input name=\"staff_email\" type=\"email\" class=\"form-control mb-2\" placeholder=\"Email\" required>\r\n+                    <input name=\"staff_position\" class=\"form-control mb-2\" placeholder=\"Position\" required>\r\n+                    <select name=\"staff_status\" class=\"form-control\" required>\r\n+                        <option value=\"Active\">Active</option>\r\n+                        <option value=\"Inactive\">Inactive</option>\r\n+                    </select>\r\n+                </div>\r\n+                <div class=\"modal-footer\">\r\n+                    <button name=\"addStaff\" class=\"btn btn-primary\">Add</button>\r\n+                </div>\r\n+            </form>\r\n         </div>\r\n-        <div class=\"modal-footer\">\r\n-          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-          <button type=\"submit\" class=\"btn btn-success\">Add Staff</button>\r\n-        </div>\r\n-      </form>\r\n     </div>\r\n-  </div>\r\n </div>\r\n   <script>\r\n     (() => {\r\n       'use strict';\r\n"
                },
                {
                    "date": 1748653964356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -219,47 +219,73 @@\n             </form>\r\n         </div>\r\n     </div>\r\n </div>\r\n-  <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n \r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n+<!-- Edit Staff Modal -->\r\n+    <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\">\r\n+        <div class=\"modal-dialog\">\r\n+            <form method=\"POST\" class=\"modal-content\">\r\n+                <input type=\"hidden\" name=\"staff_id\" id=\"editStaffId\">\r\n+                <div class=\"modal-header\">\r\n+                    <h5 class=\"modal-title\">Edit Staff</h5>\r\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+                </div>\r\n+                <div class=\"modal-body\">\r\n+                    <input name=\"staff_name\" id=\"editStaffName\" class=\"form-control mb-2\" placeholder=\"Name\" required>\r\n+                    <input name=\"staff_email\" id=\"editStaffEmail\" type=\"email\" class=\"form-control mb-2\" placeholder=\"Email\" required>\r\n+                    <input name=\"staff_position\" id=\"editStaffPosition\" class=\"form-control mb-2\" placeholder=\"Position\" required>\r\n+                    <select name=\"staff_status\" id=\"editStaffStatus\" class=\"form-control\" required>\r\n+                        <option value=\"Active\">Active</option>\r\n+                        <option value=\"Inactive\">Inactive</option>\r\n+                    </select>\r\n+                </div>\r\n+                <div class=\"modal-footer\">\r\n+                    <button name=\"updateStaff\" class=\"btn btn-success\">Save Changes</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n+    <!-- Delete Staff Modal -->\r\n+    <div class=\"modal fade\" id=\"deleteStaffModal\" tabindex=\"-1\">\r\n+        <div class=\"modal-dialog\">\r\n+            <form method=\"POST\" class=\"modal-content\">\r\n+                <input type=\"hidden\" name=\"staff_id\" id=\"deleteStaffId\">\r\n+                <div class=\"modal-header\">\r\n+                    <h5 class=\"modal-title\">Delete Staff</h5>\r\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+                </div>\r\n+                <div class=\"modal-body text-danger\">\r\n+                    Are you sure you want to delete this staff member?\r\n+                </div>\r\n+                <div class=\"modal-footer\">\r\n+                    <button name=\"deleteStaff\" class=\"btn btn-danger\">Yes, Delete</button>\r\n+                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-  function openEditModal(id, name, email, position, status) {\r\n-    document.getElementById('edit_id').value = id;\r\n-    document.getElementById('edit_name').value = name;\r\n-    document.getElementById('edit_email').value = email;\r\n-    document.getElementById('edit_position').value = position;\r\n-    document.getElementById('edit_status').value = status;\r\n-  }\r\n-  </script>\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n+  <!-- JS & Bootstrap -->\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n+    <script>\r\n+        document.addEventListener(\"DOMContentLoaded\", () => {\r\n+            document.querySelectorAll(\".editStaffBtn\").forEach(btn => {\r\n+                btn.addEventListener(\"click\", () => {\r\n+                    document.getElementById(\"editStaffId\").value = btn.getAttribute(\"data-id\");\r\n+                    document.getElementById(\"editStaffName\").value = btn.getAttribute(\"data-name\");\r\n+                    document.getElementById(\"editStaffEmail\").value = btn.getAttribute(\"data-email\");\r\n+                    document.getElementById(\"editStaffPosition\").value = btn.getAttribute(\"data-position\");\r\n+                    document.getElementById(\"editStaffStatus\").value = btn.getAttribute(\"data-status\");\r\n+                });\r\n+            });\r\n+\r\n+            document.querySelectorAll(\".deleteStaffBtn\").forEach(btn => {\r\n+                btn.addEventListener(\"click\", () => {\r\n+                    document.getElementById(\"deleteStaffId\").value = btn.getAttribute(\"data-id\");\r\n+                });\r\n+            });\r\n+        });\r\n+    </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748654023973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,60 +1,27 @@\n <?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n+$staffList = [\r\n+  ['id' => 101, 'name' => 'jerick reyes', 'email' => 'delacruzreyes@email.com', 'position' => 'Registrar', 'status' => 'Active'],\r\n+  ['id' => 102, 'name' => 'jerick dela cruz', 'email' => 'jerickdelacruz@email.com', 'position' => 'Enrollment Staff', 'status' => 'Inactive']\r\n+];\r\n \r\n-// Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n-\r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+  $newStaff = [\r\n+    'id' => rand(103, 999),\r\n+    'name' => $_POST['staffName'],\r\n+    'email' => $_POST['staffEmail'],\r\n+    'position' => $_POST['staffPosition'],\r\n+    'status' => $_POST['staffStatus']\r\n+  ];\r\n+  $staffList[] = $newStaff;\r\n }\r\n-\r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n ?>\r\n-\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n+  <title>Manage Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n@@ -65,9 +32,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -120,172 +87,198 @@\n       }\r\n     }\r\n   </style>\r\n </head>\r\n-<body class=\"p-4\">\r\n+<body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n-   <div class=\"container\">\r\n-        <h2 class=\"mb-4\">Staff Management</h2>\r\n+  </nav> \r\n+  <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-primary mb-3\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-            <i class=\"fas fa-user-plus\"></i> Add Staff\r\n-        </button>\r\n+      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n+      </button>\r\n     </div>\r\n-\r\n-<!-- Staff Table -->\r\n-        <table class=\"table table-bordered table-hover\">\r\n-            <thead class=\"table-dark\">\r\n-                <tr>\r\n-                    <th>Name</th>\r\n-                    <th>Email</th>\r\n-                    <th>Position</th>\r\n-                    <th>Status</th>\r\n-                    <th width=\"160\">Actions</th>\r\n-                </tr>\r\n-            </thead>\r\n-            <tbody>\r\n-                <?php while ($row = mysqli_fetch_assoc($result)) { ?>\r\n-                    <tr>\r\n-                        <td><?= $row['staff_name'] ?></td>\r\n-                        <td><?= $row['staff_email'] ?></td>\r\n-                        <td><?= $row['staff_position'] ?></td>\r\n-                        <td><?= $row['staff_status'] ?></td>\r\n-                        <td>\r\n-                            <button \r\n-                                class=\"btn btn-sm btn-warning editStaffBtn\"\r\n-                                data-id=\"<?= $row['staff_id'] ?>\"\r\n-                                data-name=\"<?= htmlspecialchars($row['staff_name']) ?>\"\r\n-                                data-email=\"<?= htmlspecialchars($row['staff_email']) ?>\"\r\n-                                data-position=\"<?= $row['staff_position'] ?>\"\r\n-                                data-status=\"<?= $row['staff_status'] ?>\"\r\n-                                data-bs-toggle=\"modal\" \r\n-                                data-bs-target=\"#editStaffModal\"\r\n-                            >\r\n-                                <i class=\"fas fa-pen\"></i>\r\n-                            </button>\r\n-                            <button \r\n-                                class=\"btn btn-sm btn-danger deleteStaffBtn\"\r\n-                                data-id=\"<?= $row['staff_id'] ?>\"\r\n-                                data-bs-toggle=\"modal\" \r\n-                                data-bs-target=\"#deleteStaffModal\"\r\n-                            >\r\n-                                <i class=\"fas fa-trash\"></i>\r\n-                            </button>\r\n-                        </td>\r\n-                    </tr>\r\n-                <?php } ?>\r\n-            </tbody>\r\n-        </table>\r\n+    <div class=\"table-responsive\">\r\n+      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n+        <thead class=\"table-success text-center\">\r\n+          <tr>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n+          </tr>\r\n+        </thead>\r\n+        <tbody>\r\n+          <?php foreach ($staffList as $staff): ?>\r\n+          <tr>\r\n+            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n+            <td class=\"text-center\">\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n+            </td>\r\n+            <td class=\"text-center\">\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n+                Edit\r\n+              </button>\r\n+                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n+                Delete\r\n+              </button>\r\n+              </div>\r\n+            </td>\r\n+          </tr>\r\n+          <?php endforeach; ?>\r\n+        </tbody>\r\n+      </table>\r\n     </div>\r\n   </div>\r\n-  \r\n-    <!-- Add Staff Modal -->\r\n-    <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\">\r\n-        <div class=\"modal-dialog\">\r\n-            <form method=\"POST\" class=\"modal-content\">\r\n-                <div class=\"modal-header\">\r\n-                    <h5 class=\"modal-title\">Add Staff</h5>\r\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n-                </div>\r\n-                <div class=\"modal-body\">\r\n-                    <input name=\"staff_name\" class=\"form-control mb-2\" placeholder=\"Name\" required>\r\n-                    <input name=\"staff_email\" type=\"email\" class=\"form-control mb-2\" placeholder=\"Email\" required>\r\n-                    <input name=\"staff_position\" class=\"form-control mb-2\" placeholder=\"Position\" required>\r\n-                    <select name=\"staff_status\" class=\"form-control\" required>\r\n-                        <option value=\"Active\">Active</option>\r\n-                        <option value=\"Inactive\">Inactive</option>\r\n-                    </select>\r\n-                </div>\r\n-                <div class=\"modal-footer\">\r\n-                    <button name=\"addStaff\" class=\"btn btn-primary\">Add</button>\r\n-                </div>\r\n-            </form>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n\\ No newline at end of file\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n         </div>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+      </div>\r\n     </div>\r\n-</div>\r\n+  </div>\r\n \r\n-<!-- Edit Staff Modal -->\r\n-    <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\">\r\n-        <div class=\"modal-dialog\">\r\n-            <form method=\"POST\" class=\"modal-content\">\r\n-                <input type=\"hidden\" name=\"staff_id\" id=\"editStaffId\">\r\n-                <div class=\"modal-header\">\r\n-                    <h5 class=\"modal-title\">Edit Staff</h5>\r\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n-                </div>\r\n-                <div class=\"modal-body\">\r\n-                    <input name=\"staff_name\" id=\"editStaffName\" class=\"form-control mb-2\" placeholder=\"Name\" required>\r\n-                    <input name=\"staff_email\" id=\"editStaffEmail\" type=\"email\" class=\"form-control mb-2\" placeholder=\"Email\" required>\r\n-                    <input name=\"staff_position\" id=\"editStaffPosition\" class=\"form-control mb-2\" placeholder=\"Position\" required>\r\n-                    <select name=\"staff_status\" id=\"editStaffStatus\" class=\"form-control\" required>\r\n-                        <option value=\"Active\">Active</option>\r\n-                        <option value=\"Inactive\">Inactive</option>\r\n-                    </select>\r\n-                </div>\r\n-                <div class=\"modal-footer\">\r\n-                    <button name=\"updateStaff\" class=\"btn btn-success\">Save Changes</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n+  <script>\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n \r\n-    <!-- Delete Staff Modal -->\r\n-    <div class=\"modal fade\" id=\"deleteStaffModal\" tabindex=\"-1\">\r\n-        <div class=\"modal-dialog\">\r\n-            <form method=\"POST\" class=\"modal-content\">\r\n-                <input type=\"hidden\" name=\"staff_id\" id=\"deleteStaffId\">\r\n-                <div class=\"modal-header\">\r\n-                    <h5 class=\"modal-title\">Delete Staff</h5>\r\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n-                </div>\r\n-                <div class=\"modal-body text-danger\">\r\n-                    Are you sure you want to delete this staff member?\r\n-                </div>\r\n-                <div class=\"modal-footer\">\r\n-                    <button name=\"deleteStaff\" class=\"btn btn-danger\">Yes, Delete</button>\r\n-                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-  <!-- JS & Bootstrap -->\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n-    <script>\r\n-        document.addEventListener(\"DOMContentLoaded\", () => {\r\n-            document.querySelectorAll(\".editStaffBtn\").forEach(btn => {\r\n-                btn.addEventListener(\"click\", () => {\r\n-                    document.getElementById(\"editStaffId\").value = btn.getAttribute(\"data-id\");\r\n-                    document.getElementById(\"editStaffName\").value = btn.getAttribute(\"data-name\");\r\n-                    document.getElementById(\"editStaffEmail\").value = btn.getAttribute(\"data-email\");\r\n-                    document.getElementById(\"editStaffPosition\").value = btn.getAttribute(\"data-position\");\r\n-                    document.getElementById(\"editStaffStatus\").value = btn.getAttribute(\"data-status\");\r\n-                });\r\n-            });\r\n-\r\n-            document.querySelectorAll(\".deleteStaffBtn\").forEach(btn => {\r\n-                btn.addEventListener(\"click\", () => {\r\n-                    document.getElementById(\"deleteStaffId\").value = btn.getAttribute(\"data-id\");\r\n-                });\r\n-            });\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n         });\r\n-    </script>\r\n+      });\r\n+    })();\r\n+  </script>\r\n </body>\r\n-</html>\n+</html>\r\n"
                },
                {
                    "date": 1748654160738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,35 @@\n <?php\r\n-$staffList = [\r\n-  ['id' => 101, 'name' => 'jerick reyes', 'email' => 'delacruzreyes@email.com', 'position' => 'Registrar', 'status' => 'Active'],\r\n-  ['id' => 102, 'name' => 'jerick dela cruz', 'email' => 'jerickdelacruz@email.com', 'position' => 'Enrollment Staff', 'status' => 'Inactive']\r\n-];\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n+// Insert new staff\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $newStaff = [\r\n-    'id' => rand(103, 999),\r\n-    'name' => $_POST['staffName'],\r\n-    'email' => $_POST['staffEmail'],\r\n-    'position' => $_POST['staffPosition'],\r\n-    'status' => $_POST['staffStatus']\r\n-  ];\r\n-  $staffList[] = $newStaff;\r\n+  $name = $_POST['staffName'];\r\n+  $email = $_POST['staffEmail'];\r\n+  $position = $_POST['staffPosition'];\r\n+  $status = $_POST['staffStatus'];\r\n+\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n+  exit();\r\n }\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n ?>\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Staff Accounts</title>\r\n+  <title>Manage Register Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n@@ -153,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n-                Edit\r\n-              </button>\r\n-                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n-                Delete\r\n-              </button>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n@@ -225,9 +233,13 @@\n                 </option>\r\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n               </select>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n@@ -278,7 +290,23 @@\n           form.classList.add('was-validated');\r\n         });\r\n       });\r\n     })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748654597732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,46 +1,42 @@\n <?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n+include '../../db.php';\r\n \r\n-// Insert new staff\r\n+// Insert admin if form is submitted\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n+  $fullName = $_POST['fullName'];\r\n+  $email = $_POST['email'];\r\n+  $username = $_POST['username'];\r\n+  $password = password_hash($_POST['password'], PASSWORD_DEFAULT); // Secure password\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n+  $stmt = $conn->prepare(\"INSERT INTO admin_settings (name, email, username, password) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $fullName, $email, $username, $password);\r\n+\r\n+  if ($stmt->execute()) {\r\n+    header(\"Location: \" . $_SERVER['PHP_SELF']);\r\n+    exit;\r\n+  } else {\r\n+    echo \"<script>alert('Error adding admin: \" . $conn->error . \"');</script>\";\r\n+  }\r\n }\r\n \r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n+// Fetch admins for display\r\n+$result = mysqli_query($conn, \"SELECT * FROM admin_settings\");\r\n+$admins = mysqli_fetch_all($result, MYSQLI_ASSOC);\r\n ?>\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n+  <title>Manage Admin Users</title>\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n-  <link\r\n-    rel=\"stylesheet\"\r\n-    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n-  />\r\n   <style>\r\n     body {\r\n       background-color: #f1f8e9;\r\n-      min-height: 100vh;\r\n     }\r\n         .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n@@ -60,44 +56,88 @@\n       margin-right: 10px;\r\n       border: 2px solid #fff;\r\n     }\r\n     .container {\r\n-      max-width: 960px;\r\n       margin-top: 40px;\r\n+      max-width: 900px;\r\n     }\r\n-    .card {\r\n-      border-radius: 1rem;\r\n-      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n-    }\r\n-    .modal-header {\r\n-      background-color: #43a047;\r\n+    .modal-header, .btn-primary {\r\n+      background-color: #2e7d32;\r\n       color: white;\r\n-      border-top-left-radius: 1rem;\r\n-      border-top-right-radius: 1rem;\r\n     }\r\n-    .btn-success:hover {\r\n+    .btn-primary:hover, .btn-warning:hover, .btn-danger:hover {\r\n       filter: brightness(0.9);\r\n       transition: filter 0.2s ease-in-out;\r\n     }\r\n     .table-responsive {\r\n+      box-shadow: 0 0 10px rgba(0,0,0,0.05);\r\n+      border-radius: 0.25rem;\r\n       background: white;\r\n-      padding: 0.75rem;\r\n-      border-radius: 0.5rem;\r\n-      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n+      padding: 0.5rem;\r\n     }\r\n-\r\n     @media (max-width: 576px) {\r\n-      .btn-group {\r\n-        flex-direction: column;\r\n-        gap: 0.3rem;\r\n-      }\r\n-      .btn-group .btn {\r\n+      .btn-sm {\r\n         width: 100%;\r\n+        margin-bottom: 0.3rem;\r\n       }\r\n+      .btn-group-sm > .btn {\r\n+        margin-bottom: 0.3rem;\r\n+      }\r\n     }\r\n   </style>\r\n </head>\r\n <body>\r\n+  <!--  Edit Admin Modal -->\r\n+<div class=\"modal fade\" id=\"editAdminModal\" tabindex=\"-1\" aria-labelledby=\"editAdminModalLabel\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n+    <div class=\"modal-content\">\r\n+      <div class=\"modal-header bg-warning\">\r\n+        <h5 class=\"modal-title text-white\" id=\"editAdminModalLabel\">Edit Admin</h5>\r\n+        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+      </div>\r\n+      <div class=\"modal-body\">\r\n+        <form id=\"editForm\" method=\"POST\" action=\"edit.php\">\r\n+          <input type=\"hidden\" id=\"editId\" name=\"id\">\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"editFullName\" class=\"form-label\">Full Name</label>\r\n+            <input type=\"text\" class=\"form-control\" id=\"editFullName\" name=\"fullName\" required>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n+            <input type=\"email\" class=\"form-control\" id=\"editEmail\" name=\"email\" required>\r\n+          </div>\r\n+          <div class=\"mb-3\">\r\n+            <label for=\"editUsername\" class=\"form-label\">Username</label>\r\n+            <input type=\"text\" class=\"form-control\" id=\"editUsername\" name=\"username\" required>\r\n+          </div>\r\n+          <button type=\"submit\" class=\"btn btn-warning w-100\">Update Admin</button>\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n+\r\n+<!--  Delete Confirmation Modal -->\r\n+<div class=\"modal fade\" id=\"deleteAdminModal\" tabindex=\"-1\" aria-labelledby=\"deleteAdminModalLabel\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog modal-dialog-centered\">\r\n+    <div class=\"modal-content\">\r\n+      <div class=\"modal-header bg-danger text-white\">\r\n+        <h5 class=\"modal-title\" id=\"deleteAdminModalLabel\">Confirm Delete</h5>\r\n+        <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+      </div>\r\n+      <div class=\"modal-body\">\r\n+        Are you sure you want to delete this admin?\r\n+      </div>\r\n+      <div class=\"modal-footer\">\r\n+        <form id=\"deleteForm\" method=\"POST\" action=\"delete.php\">\r\n+          <input type=\"hidden\" id=\"deleteId\" name=\"id\">\r\n+          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n+          <button type=\"submit\" class=\"btn btn-danger\">Yes, Delete</button>\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n   <div class=\"container-fluid\">\r\n     <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n       <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n@@ -116,16 +156,17 @@\n     </div>\r\n   </nav> \r\n   <div class=\"container\">\r\n     <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n+      Manage Admin Users\r\n     </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+      <button class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#addAdminModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        Add Admin\r\n       </button>\r\n     </div>\r\n+\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n@@ -138,175 +179,181 @@\n             <th>\r\n               Email\r\n             </th>\r\n             <th>\r\n-              Position\r\n+              Username\r\n             </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n+            <th style=\"min-width:140px;\">\r\n               Actions\r\n             </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n-          <?php foreach ($staffList as $staff): ?>\r\n+          <?php foreach ($admins as $admin): ?>\r\n           <tr>\r\n-            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n+            <td class=\"text-center\"><?= htmlspecialchars($admin['id']) ?></td>\r\n+            <td><?= htmlspecialchars($admin['name']) ?></td>\r\n+            <td><?= htmlspecialchars($admin['email']) ?></td>\r\n+            <td><?= htmlspecialchars($admin['username']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n-            </td>\r\n-            <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+            <button class=\"btn btn-warning\" title=\"Edit\"\r\n+              onclick=\"showEditModal(<?= $admin['id'] ?>, '<?= addslashes($admin['name']) ?>', '<?= $admin['email'] ?>', '<?= $admin['username'] ?>')\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+            </button>\r\n+            <button class=\"btn btn-danger\" title=\"Delete\"\r\n+              onclick=\"showDeleteModal(<?= $admin['id'] ?>)\">\r\n               <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n-          </div>\r\n-        </td>\r\n+            </button></div>\r\n+          </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+\r\n+\r\n+  <div class=\"modal fade\" id=\"addAdminModal\" tabindex=\"-1\" aria-labelledby=\"addAdminModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n       <div class=\"modal-content\">\r\n         <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n+          <h5 class=\"modal-title\" id=\"addAdminModalLabel\">\r\n+            Add New Admin\r\n           </h5>\r\n           <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n         </div>\r\n-        <form method=\"POST\" novalidate>\r\n-          <div class=\"modal-body\">\r\n+        <div class=\"modal-body\">\r\n+          <form method=\"POST\" novalidate>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n+              <label for=\"fullName\" class=\"form-label\">\r\n                 Full Name\r\n               </label>\r\n               <input\r\n                 type=\"text\"\r\n                 class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n+                id=\"fullName\"\r\n+                name=\"fullName\"\r\n                 placeholder=\"Enter full name\"\r\n                 required\r\n               />\r\n               <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n+                Please enter the full name.\r\n               </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n+              <label for=\"email\" class=\"form-label\">\r\n                 Email\r\n               </label>\r\n               <input\r\n                 type=\"email\"\r\n                 class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n+                id=\"email\"\r\n+                name=\"email\"\r\n+                placeholder=\"Enter email address\"\r\n                 required\r\n               />\r\n               <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n+                Please enter a valid email address.\r\n               </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n+              <label for=\"username\" class=\"form-label\">\r\n+                Username\r\n               </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n-              </select>\r\n-              </select>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"username\"\r\n+                name=\"username\"\r\n+                placeholder=\"Enter username\"\r\n+                required\r\n+              />\r\n               <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n+                Please enter a username.\r\n               </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n+              <label for=\"password\" class=\"form-label\">\r\n+                Password\r\n               </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n-              </select>\r\n+              <input\r\n+                type=\"password\"\r\n+                class=\"form-control\"\r\n+                id=\"password\"\r\n+                name=\"password\"\r\n+                placeholder=\"Enter password\"\r\n+                required\r\n+              />\r\n               <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n+                Please enter a password.\r\n               </div>\r\n             </div>\r\n-          </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n+            <button type=\"submit\" class=\"btn btn-primary w-100\">\r\n+              Save Admin\r\n             </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n-          </div>\r\n-        </form>\r\n+          </form>\r\n+        </div>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <script>\r\n+     function showEditModal(id, name, email, username) {\r\n+    document.getElementById('editId').value = id;\r\n+    document.getElementById('editFullName').value = name;\r\n+    document.getElementById('editEmail').value = email;\r\n+    document.getElementById('editUsername').value = username;\r\n+    var editModal = new bootstrap.Modal(document.getElementById('editAdminModal'));\r\n+    editModal.show();\r\n+  }\r\n+\r\n+  function showDeleteModal(id) {\r\n+    document.getElementById('deleteId').value = id;\r\n+    var deleteModal = new bootstrap.Modal(document.getElementById('deleteAdminModal'));\r\n+    deleteModal.show();\r\n+  }\r\n+\r\n+  // Validation\r\n+  (() => {\r\n+    'use strict';\r\n+    const forms = document.querySelectorAll('form');\r\n+    Array.from(forms).forEach(form => {\r\n+      form.addEventListener('submit', event => {\r\n+        if (!form.checkValidity()) {\r\n+          event.preventDefault();\r\n+          event.stopPropagation();\r\n+        }\r\n+        form.classList.add('was-validated');\r\n+      }, false);\r\n+    });\r\n+  })();\r\n+    function editData(id) {\r\n+    window.location.href = 'edit.php?id=' + id;\r\n+  }\r\n+\r\n+  function deleteData(id) {\r\n+    if (confirm('Are you sure you want to delete this record?')) {\r\n+      window.location.href = 'delete.php?id=' + id;\r\n+    }\r\n+  }\r\n     (() => {\r\n       'use strict';\r\n       const forms = document.querySelectorAll('form');\r\n \r\n       Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n+        form.addEventListener('submit', event => {\r\n           if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n+            event.preventDefault();\r\n+            event.stopPropagation();\r\n           }\r\n           form.classList.add('was-validated');\r\n-        });\r\n+        }, false);\r\n       });\r\n     })();\r\n+  </script>\r\n \r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n-  </script>\r\n+  <link\r\n+    rel=\"stylesheet\"\r\n+    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n+  />\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1748624506135,
            "name": "Commit-0",
            "content": "<?php\r\ninclude 'db.php'; // Make sure db.php has your DB connection\r\n\r\n// Insert new staff\r\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n  $name = $_POST['staffName'];\r\n  $email = $_POST['staffEmail'];\r\n  $position = $_POST['staffPosition'];\r\n  $status = $_POST['staffStatus'];\r\n\r\n  $stmt = $conn->prepare(\"INSERT INTO staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n  $stmt->execute();\r\n  $stmt->close();\r\n  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n  exit();\r\n}\r\n\r\n// Fetch staff list\r\n$staffList = [];\r\n$result = $conn->query(\"SELECT * FROM staff ORDER BY id DESC\");\r\nwhile ($row = $result->fetch_assoc()) {\r\n  $staffList[] = $row;\r\n}\r\n?>\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <title>Manage Staff Accounts</title>\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n  <link\r\n    rel=\"stylesheet\"\r\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n  />\r\n  <style>\r\n    body {\r\n      background-color: #f1f8e9;\r\n      min-height: 100vh;\r\n    }\r\n        .navbar {\r\n      background-color: #2e7d32;\r\n    }\r\n    .navbar-brand, .nav-link {\r\n      color: #fff !important;\r\n      font-weight: 600;\r\n      letter-spacing: 0.05em;\r\n    }\r\n    .nav-link:hover {\r\n      color: #c8e6c9 !important;\r\n    }\r\n    .school-logo {\r\n      width: 50px;\r\n      height: 50px;\r\n      object-fit: cover;\r\n      border-radius: 50%;\r\n      margin-right: 10px;\r\n      border: 2px solid #fff;\r\n    }\r\n    .container {\r\n      max-width: 960px;\r\n      margin-top: 40px;\r\n    }\r\n    .card {\r\n      border-radius: 1rem;\r\n      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n    }\r\n    .modal-header {\r\n      background-color: #43a047;\r\n      color: white;\r\n      border-top-left-radius: 1rem;\r\n      border-top-right-radius: 1rem;\r\n    }\r\n    .btn-success:hover {\r\n      filter: brightness(0.9);\r\n      transition: filter 0.2s ease-in-out;\r\n    }\r\n    .table-responsive {\r\n      background: white;\r\n      padding: 0.75rem;\r\n      border-radius: 0.5rem;\r\n      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n    }\r\n\r\n    @media (max-width: 576px) {\r\n      .btn-group {\r\n        flex-direction: column;\r\n        gap: 0.3rem;\r\n      }\r\n      .btn-group .btn {\r\n        width: 100%;\r\n      }\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n  <div class=\"container-fluid\">\r\n    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n      Admin Panel\r\n    </a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav ms-auto\">\r\n          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n          </a>\r\n      </ul>\r\n      </div>\r\n    </div>\r\n  </nav> \r\n  <div class=\"container\">\r\n    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n      Manage Registrar/Staff Accounts\r\n    </h2>\r\n    <div class=\"d-flex justify-content-end mb-3\">\r\n      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n        <i class=\"bi bi-plus-circle me-1\"></i>\r\n        Add Staff\r\n      </button>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n        <thead class=\"table-success text-center\">\r\n          <tr>\r\n            <th>\r\n              ID\r\n            </th>\r\n            <th>\r\n              Full Name\r\n            </th>\r\n            <th>\r\n              Email\r\n            </th>\r\n            <th>\r\n              Position\r\n            </th>\r\n            <th>\r\n              Status\r\n            </th>\r\n            <th style=\"min-width:130px;\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <?php foreach ($staffList as $staff): ?>\r\n          <tr>\r\n            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n            <td class=\"text-center\">\r\n              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n                <?= htmlspecialchars($staff['status']) ?>\r\n              </span>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n                Edit\r\n              </button>\r\n                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n                Delete\r\n              </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <?php endforeach; ?>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n            Add New Staff\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <form method=\"POST\" novalidate>\r\n          <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffName\" class=\"form-label\">\r\n                Full Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"staffName\"\r\n                name=\"staffName\"\r\n                placeholder=\"Enter full name\"\r\n                required\r\n              />\r\n              <div class=\"invalid-feedback\">\r\n                Please enter full name.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffEmail\" class=\"form-label\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                id=\"staffEmail\"\r\n                name=\"staffEmail\"\r\n                placeholder=\"Enter email\"\r\n                required\r\n              />\r\n              <div class=\"invalid-feedback\">\r\n                Please enter a valid email.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffPosition\" class=\"form-label\">\r\n                Position\r\n              </label>\r\n              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n                <option value=\"\" disabled selected>\r\n                  Select Position\r\n                </option>\r\n                <option value=\"Registrar\">\r\n                  Registrar\r\n                </option>\r\n                <option value=\"Enrollment Staff\">\r\n                  Enrollment Staff\r\n                </option>\r\n              </select>\r\n              <div class=\"invalid-feedback\">\r\n                Please select a position.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffStatus\" class=\"form-label\">\r\n                Status\r\n              </label>\r\n              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n                <option value=\"\" disabled selected>\r\n                  Select Status\r\n                </option>\r\n                <option value=\"Active\">\r\n                  Active\r\n                </option>\r\n                <option value=\"Inactive\">\r\n                  Inactive\r\n                </option>\r\n              </select>\r\n              <div class=\"invalid-feedback\">\r\n                Please select status.\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" class=\"btn btn-success\">\r\n              Add Staff\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    (() => {\r\n      'use strict';\r\n      const forms = document.querySelectorAll('form');\r\n\r\n      Array.from(forms).forEach(form => {\r\n        form.addEventListener('submit', e => {\r\n          if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n          form.classList.add('was-validated');\r\n        });\r\n      });\r\n    })();\r\n  </script>\r\n</body>\r\n</html>\r\n"
        }
    ]
}