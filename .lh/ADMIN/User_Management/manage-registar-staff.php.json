{
    "sourceFile": "ADMIN/User_Management/manage-registar-staff.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 23,
            "patches": [
                {
                    "date": 1748624506135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748624602319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n-                Edit\r\n-              </button>\r\n-                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n-                Delete\r\n-              </button>\r\n-              </div>\r\n-            </td>\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </a>\r\n+  </div>\r\n+</td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748624609330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </a>\r\n-  </div>\r\n-</td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </a>\r\n+          </div>\r\n+          </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748624780939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,9 +161,9 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n             <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n               <i class=\"bi bi-pencil\"></i> Edit\r\n             </a>\r\n             <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n"
                },
                {
                    "date": 1748625088049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <?php\r\n-include 'db.php'; // Make sure db.php has your DB connection\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n"
                },
                {
                    "date": 1748626453684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT id, name, email, position, status FROM staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626650058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT id, name, email, position, status FROM staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT id, name, email, position, status FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626659031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n"
                },
                {
                    "date": 1748626689280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO rergistrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n@@ -17,9 +17,9 @@\n }\r\n \r\n // Fetch staff list\r\n $staffList = [];\r\n-$result = $conn->query(\"SELECT id, name, email, position, status FROM registrar_staff ORDER BY id DESC\");\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n"
                },
                {
                    "date": 1748626786105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,8 +123,12 @@\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n         Add Staff\r\n       </button>\r\n+      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        teacher\r\n+      </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n"
                },
                {
                    "date": 1748626799072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         Add Staff\r\n       </button>\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        teacher\r\n+        Teacher\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n"
                },
                {
                    "date": 1748626879616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,12 +123,8 @@\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n         <i class=\"bi bi-plus-circle me-1\"></i>\r\n         Add Staff\r\n       </button>\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Teacher\r\n-      </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n"
                },
                {
                    "date": 1748626913332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,8 +234,12 @@\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n               </select>\r\n+              <option value=\"Enrollment Staff\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1748626940965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n               </select>\r\n-              <option value=\"Enrollment Staff\">\r\n+              <option value=\"Teacher\">\r\n                   Teacher\r\n                 </option>\r\n               </select>\r\n               <div class=\"invalid-feedback\">\r\n"
                },
                {
                    "date": 1748626970092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,13 +233,13 @@\n                 </option>\r\n                 <option value=\"Enrollment Staff\">\r\n                   Enrollment Staff\r\n                 </option>\r\n-              </select>\r\n-              <option value=\"Teacher\">\r\n+                <option value=\"Teacher\">\r\n                   Teacher\r\n                 </option>\r\n               </select>\r\n+              </select>\r\n               <div class=\"invalid-feedback\">\r\n                 Please select a position.\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1748627106346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n \r\n-  $stmt = $conn->prepare(\"INSERT INTO rergistrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n   $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n   $stmt->execute();\r\n   $stmt->close();\r\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n"
                },
                {
                    "date": 1748627790175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Staff Accounts</title>\r\n+  <title>Manage Register Staff Accounts</title>\r\n   <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n   <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n   <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n   <link\r\n"
                },
                {
                    "date": 1748628012401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-            <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </a>\r\n-          </div>\r\n-          </td>\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </a>\r\n+  </div>\r\n+</td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n"
                },
                {
                    "date": 1748628037902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+<?php\r\n+include '../../db.php'; // Make sure db.php has your DB connection\r\n+\r\n+// Insert new staff\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+  $name = $_POST['staffName'];\r\n+  $email = $_POST['staffEmail'];\r\n+  $position = $_POST['staffPosition'];\r\n+  $status = $_POST['staffStatus'];\r\n+\r\n+  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n+  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n+  exit();\r\n+}\r\n+\r\n+// Fetch staff list\r\n+$staffList = [];\r\n+$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n+while ($row = $result->fetch_assoc()) {\r\n+  $staffList[] = $row;\r\n+}\r\n+?>\r\n+<!DOCTYPE html>\r\n+<html lang=\"en\">\r\n+<head>\r\n+  <meta charset=\"UTF-8\" />\r\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n+  <title>Manage Register Staff Accounts</title>\r\n+  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n+  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n+  <link\r\n+    rel=\"stylesheet\"\r\n+    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n+  />\r\n+  <style>\r\n+    body {\r\n+      background-color: #f1f8e9;\r\n+      min-height: 100vh;\r\n+    }\r\n+        .navbar {\r\n+      background-color: #2e7d32;\r\n+    }\r\n+    .navbar-brand, .nav-link {\r\n+      color: #fff !important;\r\n+      font-weight: 600;\r\n+      letter-spacing: 0.05em;\r\n+    }\r\n+    .nav-link:hover {\r\n+      color: #c8e6c9 !important;\r\n+    }\r\n+    .school-logo {\r\n+      width: 50px;\r\n+      height: 50px;\r\n+      object-fit: cover;\r\n+      border-radius: 50%;\r\n+      margin-right: 10px;\r\n+      border: 2px solid #fff;\r\n+    }\r\n+    .container {\r\n+      max-width: 960px;\r\n+      margin-top: 40px;\r\n+    }\r\n+    .card {\r\n+      border-radius: 1rem;\r\n+      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n+    }\r\n+    .modal-header {\r\n+      background-color: #43a047;\r\n+      color: white;\r\n+      border-top-left-radius: 1rem;\r\n+      border-top-right-radius: 1rem;\r\n+    }\r\n+    .btn-success:hover {\r\n+      filter: brightness(0.9);\r\n+      transition: filter 0.2s ease-in-out;\r\n+    }\r\n+    .table-responsive {\r\n+      background: white;\r\n+      padding: 0.75rem;\r\n+      border-radius: 0.5rem;\r\n+      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n+    }\r\n+\r\n+    @media (max-width: 576px) {\r\n+      .btn-group {\r\n+        flex-direction: column;\r\n+        gap: 0.3rem;\r\n+      }\r\n+      .btn-group .btn {\r\n+        width: 100%;\r\n+      }\r\n+    }\r\n+  </style>\r\n+</head>\r\n+<body>\r\n+  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n+      </button>\r\n+      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n+        <ul class=\"navbar-nav ms-auto\">\r\n+          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n+      </div>\r\n+    </div>\r\n+  </nav> \r\n+  <div class=\"container\">\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n+    <div class=\"d-flex justify-content-end mb-3\">\r\n+      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n+      </button>\r\n+    </div>\r\n+    <div class=\"table-responsive\">\r\n+      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n+        <thead class=\"table-success text-center\">\r\n+          <tr>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n+          </tr>\r\n+        </thead>\r\n+        <tbody>\r\n+          <?php foreach ($staffList as $staff): ?>\r\n+          <tr>\r\n+            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n+            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n+            <td class=\"text-center\">\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n+            </td>\r\n+            <td class=\"text-center\">\r\n+  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+      <i class=\"bi bi-pencil\"></i> Edit\r\n+    </a>\r\n+    <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+      <i class=\"bi bi-trash\"></i> Delete\r\n+    </button>\r\n+  </div>\r\n+</td>\r\n+          </tr>\r\n+          <?php endforeach; ?>\r\n+        </tbody>\r\n+      </table>\r\n+    </div>\r\n+  </div>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n+        </div>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <script>\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+  </script>\r\n+</body>\r\n+</html>\r\n"
                },
                {
                    "date": 1748628038993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -293,300 +293,4 @@\n     })();\r\n   </script>\r\n </body>\r\n </html>\r\n-<?php\r\n-include '../../db.php'; // Make sure db.php has your DB connection\r\n-\r\n-// Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n-  $name = $_POST['staffName'];\r\n-  $email = $_POST['staffEmail'];\r\n-  $position = $_POST['staffPosition'];\r\n-  $status = $_POST['staffStatus'];\r\n-\r\n-  $stmt = $conn->prepare(\"INSERT INTO registrar_staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n-  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n-  exit();\r\n-}\r\n-\r\n-// Fetch staff list\r\n-$staffList = [];\r\n-$result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n-while ($row = $result->fetch_assoc()) {\r\n-  $staffList[] = $row;\r\n-}\r\n-?>\r\n-<!DOCTYPE html>\r\n-<html lang=\"en\">\r\n-<head>\r\n-  <meta charset=\"UTF-8\" />\r\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n-  <title>Manage Register Staff Accounts</title>\r\n-  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n-  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n-  <link\r\n-    rel=\"stylesheet\"\r\n-    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n-  />\r\n-  <style>\r\n-    body {\r\n-      background-color: #f1f8e9;\r\n-      min-height: 100vh;\r\n-    }\r\n-        .navbar {\r\n-      background-color: #2e7d32;\r\n-    }\r\n-    .navbar-brand, .nav-link {\r\n-      color: #fff !important;\r\n-      font-weight: 600;\r\n-      letter-spacing: 0.05em;\r\n-    }\r\n-    .nav-link:hover {\r\n-      color: #c8e6c9 !important;\r\n-    }\r\n-    .school-logo {\r\n-      width: 50px;\r\n-      height: 50px;\r\n-      object-fit: cover;\r\n-      border-radius: 50%;\r\n-      margin-right: 10px;\r\n-      border: 2px solid #fff;\r\n-    }\r\n-    .container {\r\n-      max-width: 960px;\r\n-      margin-top: 40px;\r\n-    }\r\n-    .card {\r\n-      border-radius: 1rem;\r\n-      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n-    }\r\n-    .modal-header {\r\n-      background-color: #43a047;\r\n-      color: white;\r\n-      border-top-left-radius: 1rem;\r\n-      border-top-right-radius: 1rem;\r\n-    }\r\n-    .btn-success:hover {\r\n-      filter: brightness(0.9);\r\n-      transition: filter 0.2s ease-in-out;\r\n-    }\r\n-    .table-responsive {\r\n-      background: white;\r\n-      padding: 0.75rem;\r\n-      border-radius: 0.5rem;\r\n-      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n-    }\r\n-\r\n-    @media (max-width: 576px) {\r\n-      .btn-group {\r\n-        flex-direction: column;\r\n-        gap: 0.3rem;\r\n-      }\r\n-      .btn-group .btn {\r\n-        width: 100%;\r\n-      }\r\n-    }\r\n-  </style>\r\n-</head>\r\n-<body>\r\n-  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n-      </button>\r\n-      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n-        <ul class=\"navbar-nav ms-auto\">\r\n-          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n-      </div>\r\n-    </div>\r\n-  </nav> \r\n-  <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n-    <div class=\"d-flex justify-content-end mb-3\">\r\n-      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n-      </button>\r\n-    </div>\r\n-    <div class=\"table-responsive\">\r\n-      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n-        <thead class=\"table-success text-center\">\r\n-          <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          <?php foreach ($staffList as $staff): ?>\r\n-          <tr>\r\n-            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n-            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n-            <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n-            </td>\r\n-            <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <a href=\"delete-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-danger btn-sm\" title=\"Delete\" onclick=\"return confirm('Are you sure?');\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </a>\r\n-  </div>\r\n-</td>\r\n-          </tr>\r\n-          <?php endforeach; ?>\r\n-        </tbody>\r\n-      </table>\r\n-    </div>\r\n-  </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n-      <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n-          <div class=\"modal-body\">\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n-              </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n-          </div>\r\n-        </form>\r\n-      </div>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-  </script>\r\n-</body>\r\n-</html>\r\n"
                },
                {
                    "date": 1748628064955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,17 +161,17 @@\n                 <?= htmlspecialchars($staff['status']) ?>\r\n               </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-  <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-    <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-      <i class=\"bi bi-pencil\"></i> Edit\r\n-    </a>\r\n-    <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-      <i class=\"bi bi-trash\"></i> Delete\r\n-    </button>\r\n-  </div>\r\n-</td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n@@ -290,7 +290,23 @@\n           form.classList.add('was-validated');\r\n         });\r\n       });\r\n     })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748628801968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,15 +15,39 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n+// Handle Update Staff\r\n+if (isset($_POST['update_staff'])) {\r\n+  $id = $_POST['edit_id'];\r\n+  $name = $_POST['edit_name'];\r\n+  $email = $_POST['edit_email'];\r\n+  $position = $_POST['edit_position'];\r\n+  $status = $_POST['edit_status'];\r\n+\r\n+  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n+  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n+// Handle Delete Staff\r\n+if (isset($_POST['delete_staff'])) {\r\n+  $id = $_POST['delete_id'];\r\n+  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n+  $stmt->bind_param(\"i\", $id);\r\n+  $stmt->execute();\r\n+  $stmt->close();\r\n+}\r\n+\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n+\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -40,9 +64,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-        .navbar {\r\n+    .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -97,57 +121,43 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-  <div class=\"container-fluid\">\r\n-    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-      Admin Panel\r\n-    </a>\r\n-    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-      <span class=\"navbar-toggler-icon\"></span>\r\n+    <div class=\"container-fluid\">\r\n+      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+        Admin Panel\r\n+      </a>\r\n+      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+        <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a>\r\n-      </ul>\r\n+            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a></li>\r\n+        </ul>\r\n       </div>\r\n     </div>\r\n-  </nav> \r\n+  </nav>\r\n+\r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n-      Manage Registrar/Staff Accounts\r\n-    </h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i>\r\n-        Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>\r\n-              ID\r\n-            </th>\r\n-            <th>\r\n-              Full Name\r\n-            </th>\r\n-            <th>\r\n-              Email\r\n-            </th>\r\n-            <th>\r\n-              Position\r\n-            </th>\r\n-            <th>\r\n-              Status\r\n-            </th>\r\n-            <th style=\"min-width:130px;\">\r\n-              Actions\r\n-            </th>\r\n+            <th>ID</th>\r\n+            <th>Full Name</th>\r\n+            <th>Email</th>\r\n+            <th>Position</th>\r\n+            <th>Status</th>\r\n+            <th style=\"min-width:130px;\">Actions</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -156,157 +166,80 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n-                <?= htmlspecialchars($staff['status']) ?>\r\n-              </span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n-              <i class=\"bi bi-pencil\"></i> Edit\r\n-            </a>\r\n-            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n-              <i class=\"bi bi-trash\"></i> Delete\r\n-            </button>\r\n-          </div>\r\n-        </td>\r\n+              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n+                  <i class=\"bi bi-pencil\"></i> Edit\r\n+                </button>\r\n+                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n+                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n+                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n+                    <i class=\"bi bi-trash\"></i> Delete\r\n+                  </button>\r\n+                </form>\r\n+              </div>\r\n+            </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+\r\n+  <!-- Edit Staff Modal -->\r\n+  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog\">\r\n       <div class=\"modal-content\">\r\n-        <div class=\"modal-header\">\r\n-          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n-            Add New Staff\r\n-          </h5>\r\n-          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n-        </div>\r\n-        <form method=\"POST\" novalidate>\r\n+        <form method=\"POST\">\r\n+          <div class=\"modal-header bg-warning\">\r\n+            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n+            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+          </div>\r\n           <div class=\"modal-body\">\r\n+            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffName\" class=\"form-label\">\r\n-                Full Name\r\n-              </label>\r\n-              <input\r\n-                type=\"text\"\r\n-                class=\"form-control\"\r\n-                id=\"staffName\"\r\n-                name=\"staffName\"\r\n-                placeholder=\"Enter full name\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter full name.\r\n-              </div>\r\n+              <label>Full Name</label>\r\n+              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffEmail\" class=\"form-label\">\r\n-                Email\r\n-              </label>\r\n-              <input\r\n-                type=\"email\"\r\n-                class=\"form-control\"\r\n-                id=\"staffEmail\"\r\n-                name=\"staffEmail\"\r\n-                placeholder=\"Enter email\"\r\n-                required\r\n-              />\r\n-              <div class=\"invalid-feedback\">\r\n-                Please enter a valid email.\r\n-              </div>\r\n+              <label>Email</label>\r\n+              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffPosition\" class=\"form-label\">\r\n-                Position\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Position\r\n-                </option>\r\n-                <option value=\"Registrar\">\r\n-                  Registrar\r\n-                </option>\r\n-                <option value=\"Enrollment Staff\">\r\n-                  Enrollment Staff\r\n-                </option>\r\n-                <option value=\"Teacher\">\r\n-                  Teacher\r\n-                </option>\r\n+              <label>Position</label>\r\n+              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n+                <option>Registrar</option>\r\n+                <option>Enrollment Staff</option>\r\n+                <option>Teacher</option>\r\n               </select>\r\n-              </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select a position.\r\n-              </div>\r\n             </div>\r\n             <div class=\"mb-3\">\r\n-              <label for=\"staffStatus\" class=\"form-label\">\r\n-                Status\r\n-              </label>\r\n-              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n-                <option value=\"\" disabled selected>\r\n-                  Select Status\r\n-                </option>\r\n-                <option value=\"Active\">\r\n-                  Active\r\n-                </option>\r\n-                <option value=\"Inactive\">\r\n-                  Inactive\r\n-                </option>\r\n+              <label>Status</label>\r\n+              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n+                <option>Active</option>\r\n+                <option>Inactive</option>\r\n               </select>\r\n-              <div class=\"invalid-feedback\">\r\n-                Please select status.\r\n-              </div>\r\n             </div>\r\n           </div>\r\n           <div class=\"modal-footer\">\r\n-            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n-              Cancel\r\n-            </button>\r\n-            <button type=\"submit\" class=\"btn btn-success\">\r\n-              Add Staff\r\n-            </button>\r\n+            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <script>\r\n-    (() => {\r\n-      'use strict';\r\n-      const forms = document.querySelectorAll('form');\r\n-\r\n-      Array.from(forms).forEach(form => {\r\n-        form.addEventListener('submit', e => {\r\n-          if (!form.checkValidity()) {\r\n-            e.preventDefault();\r\n-            e.stopPropagation();\r\n-          }\r\n-          form.classList.add('was-validated');\r\n-        });\r\n-      });\r\n-    })();\r\n-\r\n-      function confirmDelete(id) {\r\n-    Swal.fire({\r\n-      title: 'Are you sure?',\r\n-      text: 'This staff account will be permanently deleted.',\r\n-      icon: 'warning',\r\n-      showCancelButton: true,\r\n-      confirmButtonColor: '#d33',\r\n-      cancelButtonColor: '#3085d6',\r\n-      confirmButtonText: 'Yes, delete it!'\r\n-    }).then((result) => {\r\n-      if (result.isConfirmed) {\r\n-        window.location.href = 'delete-staff.php?id=' + id;\r\n-      }\r\n-    });\r\n-  }\r\n+    function openEditModal(id, name, email, position, status) {\r\n+      document.getElementById('edit_id').value = id;\r\n+      document.getElementById('edit_name').value = name;\r\n+      document.getElementById('edit_email').value = email;\r\n+      document.getElementById('edit_position').value = position;\r\n+      document.getElementById('edit_status').value = status;\r\n+    }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1748649226854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,49 +189,54 @@\n     </div>\r\n   </div>\r\n \r\n   <!-- Edit Staff Modal -->\r\n-  <div class=\"modal fade\" id=\"editStaffModal\" tabindex=\"-1\" aria-labelledby=\"editStaffLabel\" aria-hidden=\"true\">\r\n-    <div class=\"modal-dialog\">\r\n-      <div class=\"modal-content\">\r\n-        <form method=\"POST\">\r\n-          <div class=\"modal-header bg-warning\">\r\n-            <h5 class=\"modal-title\" id=\"editStaffLabel\">Edit Staff</h5>\r\n-            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+  <?php foreach ($staffList as $staff): ?>\r\n+<div class=\"modal fade\" id=\"editStaffModal<?= $staff['id'] ?>\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel<?= $staff['id'] ?>\" aria-hidden=\"true\">\r\n+  <div class=\"modal-dialog\">\r\n+    <div class=\"modal-content\">\r\n+      <form method=\"POST\">\r\n+        <div class=\"modal-header bg-warning\">\r\n+          <h5 class=\"modal-title\" id=\"editStaffModalLabel<?= $staff['id'] ?>\">Edit Staff</h5>\r\n+          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+        </div>\r\n+        <div class=\"modal-body\">\r\n+          <input type=\"hidden\" name=\"edit_id\" value=\"<?= $staff['id'] ?>\">\r\n+          <div class=\"mb-3\">\r\n+            <label>Full Name</label>\r\n+            <input type=\"text\" name=\"edit_name\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['name']) ?>\" required>\r\n           </div>\r\n-          <div class=\"modal-body\">\r\n-            <input type=\"hidden\" name=\"edit_id\" id=\"edit_id\">\r\n-            <div class=\"mb-3\">\r\n-              <label>Full Name</label>\r\n-              <input type=\"text\" name=\"edit_name\" id=\"edit_name\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Email</label>\r\n-              <input type=\"email\" name=\"edit_email\" id=\"edit_email\" class=\"form-control\" required>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Position</label>\r\n-              <select name=\"edit_position\" id=\"edit_position\" class=\"form-select\" required>\r\n-                <option>Registrar</option>\r\n-                <option>Enrollment Staff</option>\r\n-                <option>Teacher</option>\r\n-              </select>\r\n-            </div>\r\n-            <div class=\"mb-3\">\r\n-              <label>Status</label>\r\n-              <select name=\"edit_status\" id=\"edit_status\" class=\"form-select\" required>\r\n-                <option>Active</option>\r\n-                <option>Inactive</option>\r\n-              </select>\r\n-            </div>\r\n+          <div class=\"mb-3\">\r\n+            <label>Email</label>\r\n+            <input type=\"email\" name=\"edit_email\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['email']) ?>\" required>\r\n           </div>\r\n-          <div class=\"modal-footer\">\r\n-            <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n+          <div class=\"mb-3\">\r\n+            <label>Position</label>\r\n+            <select name=\"edit_position\" class=\"form-select\" required>\r\n+              <?php\r\n+                $positions = ['Registrar', 'Enrollment Staff', 'Teacher'];\r\n+                foreach ($positions as $pos):\r\n+              ?>\r\n+                <option value=\"<?= $pos ?>\" <?= $staff['position'] === $pos ? 'selected' : '' ?>><?= $pos ?></option>\r\n+              <?php endforeach; ?>\r\n+            </select>\r\n           </div>\r\n-        </form>\r\n-      </div>\r\n+          <div class=\"mb-3\">\r\n+            <label>Status</label>\r\n+            <select name=\"edit_status\" class=\"form-select\" required>\r\n+              <option value=\"Active\" <?= $staff['status'] === 'Active' ? 'selected' : '' ?>>Active</option>\r\n+              <option value=\"Inactive\" <?= $staff['status'] === 'Inactive' ? 'selected' : '' ?>>Inactive</option>\r\n+            </select>\r\n+          </div>\r\n+        </div>\r\n+        <div class=\"modal-footer\">\r\n+          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n+        </div>\r\n+      </form>\r\n     </div>\r\n   </div>\r\n+</div>\r\n+<?php endforeach; ?>\r\n \r\n   <script>\r\n     function openEditModal(id, name, email, position, status) {\r\n       document.getElementById('edit_id').value = id;\r\n"
                },
                {
                    "date": 1748649386602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <?php\r\n include '../../db.php'; // Make sure db.php has your DB connection\r\n \r\n // Insert new staff\r\n-if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['staffName'])) {\r\n+if ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n   $name = $_POST['staffName'];\r\n   $email = $_POST['staffEmail'];\r\n   $position = $_POST['staffPosition'];\r\n   $status = $_POST['staffStatus'];\r\n@@ -15,39 +15,15 @@\n   header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n   exit();\r\n }\r\n \r\n-// Handle Update Staff\r\n-if (isset($_POST['update_staff'])) {\r\n-  $id = $_POST['edit_id'];\r\n-  $name = $_POST['edit_name'];\r\n-  $email = $_POST['edit_email'];\r\n-  $position = $_POST['edit_position'];\r\n-  $status = $_POST['edit_status'];\r\n-\r\n-  $stmt = $conn->prepare(\"UPDATE registrar_staff SET name=?, email=?, position=?, status=? WHERE id=?\");\r\n-  $stmt->bind_param(\"ssssi\", $name, $email, $position, $status, $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n-// Handle Delete Staff\r\n-if (isset($_POST['delete_staff'])) {\r\n-  $id = $_POST['delete_id'];\r\n-  $stmt = $conn->prepare(\"DELETE FROM registrar_staff WHERE id = ?\");\r\n-  $stmt->bind_param(\"i\", $id);\r\n-  $stmt->execute();\r\n-  $stmt->close();\r\n-}\r\n-\r\n // Fetch staff list\r\n $staffList = [];\r\n $result = $conn->query(\"SELECT * FROM registrar_staff ORDER BY id DESC\");\r\n while ($row = $result->fetch_assoc()) {\r\n   $staffList[] = $row;\r\n }\r\n ?>\r\n-\r\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n <head>\r\n   <meta charset=\"UTF-8\" />\r\n@@ -64,9 +40,9 @@\n     body {\r\n       background-color: #f1f8e9;\r\n       min-height: 100vh;\r\n     }\r\n-    .navbar {\r\n+        .navbar {\r\n       background-color: #2e7d32;\r\n     }\r\n     .navbar-brand, .nav-link {\r\n       color: #fff !important;\r\n@@ -121,43 +97,57 @@\n   </style>\r\n </head>\r\n <body>\r\n   <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n-    <div class=\"container-fluid\">\r\n-      <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n-        <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n-        Admin Panel\r\n-      </a>\r\n-      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n-        <span class=\"navbar-toggler-icon\"></span>\r\n+  <div class=\"container-fluid\">\r\n+    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n+      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n+      Admin Panel\r\n+    </a>\r\n+    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n+      <span class=\"navbar-toggler-icon\"></span>\r\n       </button>\r\n       <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n         <ul class=\"navbar-nav ms-auto\">\r\n           <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n-            <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n-          </a></li>\r\n-        </ul>\r\n+          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n+          </a>\r\n+      </ul>\r\n       </div>\r\n     </div>\r\n-  </nav>\r\n-\r\n+  </nav> \r\n   <div class=\"container\">\r\n-    <h2 class=\"text-center mb-4 text-success fw-bold\">Manage Registrar/Staff Accounts</h2>\r\n+    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n+      Manage Registrar/Staff Accounts\r\n+    </h2>\r\n     <div class=\"d-flex justify-content-end mb-3\">\r\n       <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n-        <i class=\"bi bi-plus-circle me-1\"></i> Add Staff\r\n+        <i class=\"bi bi-plus-circle me-1\"></i>\r\n+        Add Staff\r\n       </button>\r\n     </div>\r\n     <div class=\"table-responsive\">\r\n       <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n         <thead class=\"table-success text-center\">\r\n           <tr>\r\n-            <th>ID</th>\r\n-            <th>Full Name</th>\r\n-            <th>Email</th>\r\n-            <th>Position</th>\r\n-            <th>Status</th>\r\n-            <th style=\"min-width:130px;\">Actions</th>\r\n+            <th>\r\n+              ID\r\n+            </th>\r\n+            <th>\r\n+              Full Name\r\n+            </th>\r\n+            <th>\r\n+              Email\r\n+            </th>\r\n+            <th>\r\n+              Position\r\n+            </th>\r\n+            <th>\r\n+              Status\r\n+            </th>\r\n+            <th style=\"min-width:130px;\">\r\n+              Actions\r\n+            </th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           <?php foreach ($staffList as $staff): ?>\r\n@@ -166,85 +156,157 @@\n             <td><?= htmlspecialchars($staff['name']) ?></td>\r\n             <td><?= htmlspecialchars($staff['email']) ?></td>\r\n             <td><?= htmlspecialchars($staff['position']) ?></td>\r\n             <td class=\"text-center\">\r\n-              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\"><?= htmlspecialchars($staff['status']) ?></span>\r\n+              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n+                <?= htmlspecialchars($staff['status']) ?>\r\n+              </span>\r\n             </td>\r\n             <td class=\"text-center\">\r\n-              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n-                <button class=\"btn btn-warning btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#editStaffModal\" onclick=\"openEditModal(<?= $staff['id'] ?>, '<?= $staff['name'] ?>', '<?= $staff['email'] ?>', '<?= $staff['position'] ?>', '<?= $staff['status'] ?>')\">\r\n-                  <i class=\"bi bi-pencil\"></i> Edit\r\n-                </button>\r\n-                <form method=\"POST\" action=\"\" style=\"display:inline;\">\r\n-                  <input type=\"hidden\" name=\"delete_id\" value=\"<?= $staff['id'] ?>\">\r\n-                  <button type=\"submit\" name=\"delete_staff\" class=\"btn btn-danger btn-sm\" onclick=\"return confirm('Delete this staff?')\">\r\n-                    <i class=\"bi bi-trash\"></i> Delete\r\n-                  </button>\r\n-                </form>\r\n-              </div>\r\n-            </td>\r\n+          <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n+            <a href=\"edit-staff.php?id=<?= $staff['id'] ?>\" class=\"btn btn-warning btn-sm\" title=\"Edit\">\r\n+              <i class=\"bi bi-pencil\"></i> Edit\r\n+            </a>\r\n+            <button class=\"btn btn-danger btn-sm\" onclick=\"confirmDelete(<?= $staff['id']; ?>)\">\r\n+              <i class=\"bi bi-trash\"></i> Delete\r\n+            </button>\r\n+          </div>\r\n+        </td>\r\n           </tr>\r\n           <?php endforeach; ?>\r\n         </tbody>\r\n       </table>\r\n     </div>\r\n   </div>\r\n-\r\n-  <!-- Edit Staff Modal -->\r\n-  <?php foreach ($staffList as $staff): ?>\r\n-<div class=\"modal fade\" id=\"editStaffModal<?= $staff['id'] ?>\" tabindex=\"-1\" aria-labelledby=\"editStaffModalLabel<?= $staff['id'] ?>\" aria-hidden=\"true\">\r\n-  <div class=\"modal-dialog\">\r\n-    <div class=\"modal-content\">\r\n-      <form method=\"POST\">\r\n-        <div class=\"modal-header bg-warning\">\r\n-          <h5 class=\"modal-title\" id=\"editStaffModalLabel<?= $staff['id'] ?>\">Edit Staff</h5>\r\n-          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n+  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n+    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n+      <div class=\"modal-content\">\r\n+        <div class=\"modal-header\">\r\n+          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n+            Add New Staff\r\n+          </h5>\r\n+          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n         </div>\r\n-        <div class=\"modal-body\">\r\n-          <input type=\"hidden\" name=\"edit_id\" value=\"<?= $staff['id'] ?>\">\r\n-          <div class=\"mb-3\">\r\n-            <label>Full Name</label>\r\n-            <input type=\"text\" name=\"edit_name\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['name']) ?>\" required>\r\n+        <form method=\"POST\" novalidate>\r\n+          <div class=\"modal-body\">\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffName\" class=\"form-label\">\r\n+                Full Name\r\n+              </label>\r\n+              <input\r\n+                type=\"text\"\r\n+                class=\"form-control\"\r\n+                id=\"staffName\"\r\n+                name=\"staffName\"\r\n+                placeholder=\"Enter full name\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter full name.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffEmail\" class=\"form-label\">\r\n+                Email\r\n+              </label>\r\n+              <input\r\n+                type=\"email\"\r\n+                class=\"form-control\"\r\n+                id=\"staffEmail\"\r\n+                name=\"staffEmail\"\r\n+                placeholder=\"Enter email\"\r\n+                required\r\n+              />\r\n+              <div class=\"invalid-feedback\">\r\n+                Please enter a valid email.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffPosition\" class=\"form-label\">\r\n+                Position\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Position\r\n+                </option>\r\n+                <option value=\"Registrar\">\r\n+                  Registrar\r\n+                </option>\r\n+                <option value=\"Enrollment Staff\">\r\n+                  Enrollment Staff\r\n+                </option>\r\n+                <option value=\"Teacher\">\r\n+                  Teacher\r\n+                </option>\r\n+              </select>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select a position.\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"mb-3\">\r\n+              <label for=\"staffStatus\" class=\"form-label\">\r\n+                Status\r\n+              </label>\r\n+              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n+                <option value=\"\" disabled selected>\r\n+                  Select Status\r\n+                </option>\r\n+                <option value=\"Active\">\r\n+                  Active\r\n+                </option>\r\n+                <option value=\"Inactive\">\r\n+                  Inactive\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"invalid-feedback\">\r\n+                Please select status.\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Email</label>\r\n-            <input type=\"email\" name=\"edit_email\" class=\"form-control\" value=\"<?= htmlspecialchars($staff['email']) ?>\" required>\r\n+          <div class=\"modal-footer\">\r\n+            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n+              Cancel\r\n+            </button>\r\n+            <button type=\"submit\" class=\"btn btn-success\">\r\n+              Add Staff\r\n+            </button>\r\n           </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Position</label>\r\n-            <select name=\"edit_position\" class=\"form-select\" required>\r\n-              <?php\r\n-                $positions = ['Registrar', 'Enrollment Staff', 'Teacher'];\r\n-                foreach ($positions as $pos):\r\n-              ?>\r\n-                <option value=\"<?= $pos ?>\" <?= $staff['position'] === $pos ? 'selected' : '' ?>><?= $pos ?></option>\r\n-              <?php endforeach; ?>\r\n-            </select>\r\n-          </div>\r\n-          <div class=\"mb-3\">\r\n-            <label>Status</label>\r\n-            <select name=\"edit_status\" class=\"form-select\" required>\r\n-              <option value=\"Active\" <?= $staff['status'] === 'Active' ? 'selected' : '' ?>>Active</option>\r\n-              <option value=\"Inactive\" <?= $staff['status'] === 'Inactive' ? 'selected' : '' ?>>Inactive</option>\r\n-            </select>\r\n-          </div>\r\n-        </div>\r\n-        <div class=\"modal-footer\">\r\n-          <button type=\"submit\" name=\"update_staff\" class=\"btn btn-warning\">Update</button>\r\n-        </div>\r\n-      </form>\r\n+        </form>\r\n+      </div>\r\n     </div>\r\n   </div>\r\n-</div>\r\n-<?php endforeach; ?>\r\n \r\n   <script>\r\n-    function openEditModal(id, name, email, position, status) {\r\n-      document.getElementById('edit_id').value = id;\r\n-      document.getElementById('edit_name').value = name;\r\n-      document.getElementById('edit_email').value = email;\r\n-      document.getElementById('edit_position').value = position;\r\n-      document.getElementById('edit_status').value = status;\r\n-    }\r\n+    (() => {\r\n+      'use strict';\r\n+      const forms = document.querySelectorAll('form');\r\n+\r\n+      Array.from(forms).forEach(form => {\r\n+        form.addEventListener('submit', e => {\r\n+          if (!form.checkValidity()) {\r\n+            e.preventDefault();\r\n+            e.stopPropagation();\r\n+          }\r\n+          form.classList.add('was-validated');\r\n+        });\r\n+      });\r\n+    })();\r\n+\r\n+      function confirmDelete(id) {\r\n+    Swal.fire({\r\n+      title: 'Are you sure?',\r\n+      text: 'This staff account will be permanently deleted.',\r\n+      icon: 'warning',\r\n+      showCancelButton: true,\r\n+      confirmButtonColor: '#d33',\r\n+      cancelButtonColor: '#3085d6',\r\n+      confirmButtonText: 'Yes, delete it!'\r\n+    }).then((result) => {\r\n+      if (result.isConfirmed) {\r\n+        window.location.href = 'delete-staff.php?id=' + id;\r\n+      }\r\n+    });\r\n+  }\r\n   </script>\r\n </body>\r\n </html>\r\n"
                }
            ],
            "date": 1748624506135,
            "name": "Commit-0",
            "content": "<?php\r\ninclude 'db.php'; // Make sure db.php has your DB connection\r\n\r\n// Insert new staff\r\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\r\n  $name = $_POST['staffName'];\r\n  $email = $_POST['staffEmail'];\r\n  $position = $_POST['staffPosition'];\r\n  $status = $_POST['staffStatus'];\r\n\r\n  $stmt = $conn->prepare(\"INSERT INTO staff (name, email, position, status) VALUES (?, ?, ?, ?)\");\r\n  $stmt->bind_param(\"ssss\", $name, $email, $position, $status);\r\n  $stmt->execute();\r\n  $stmt->close();\r\n  header(\"Location: \" . $_SERVER['PHP_SELF']); // Refresh to show new data\r\n  exit();\r\n}\r\n\r\n// Fetch staff list\r\n$staffList = [];\r\n$result = $conn->query(\"SELECT * FROM staff ORDER BY id DESC\");\r\nwhile ($row = $result->fetch_assoc()) {\r\n  $staffList[] = $row;\r\n}\r\n?>\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <title>Manage Staff Accounts</title>\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" />\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n  <link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\">\r\n  <link\r\n    rel=\"stylesheet\"\r\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\"\r\n  />\r\n  <style>\r\n    body {\r\n      background-color: #f1f8e9;\r\n      min-height: 100vh;\r\n    }\r\n        .navbar {\r\n      background-color: #2e7d32;\r\n    }\r\n    .navbar-brand, .nav-link {\r\n      color: #fff !important;\r\n      font-weight: 600;\r\n      letter-spacing: 0.05em;\r\n    }\r\n    .nav-link:hover {\r\n      color: #c8e6c9 !important;\r\n    }\r\n    .school-logo {\r\n      width: 50px;\r\n      height: 50px;\r\n      object-fit: cover;\r\n      border-radius: 50%;\r\n      margin-right: 10px;\r\n      border: 2px solid #fff;\r\n    }\r\n    .container {\r\n      max-width: 960px;\r\n      margin-top: 40px;\r\n    }\r\n    .card {\r\n      border-radius: 1rem;\r\n      box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n    }\r\n    .modal-header {\r\n      background-color: #43a047;\r\n      color: white;\r\n      border-top-left-radius: 1rem;\r\n      border-top-right-radius: 1rem;\r\n    }\r\n    .btn-success:hover {\r\n      filter: brightness(0.9);\r\n      transition: filter 0.2s ease-in-out;\r\n    }\r\n    .table-responsive {\r\n      background: white;\r\n      padding: 0.75rem;\r\n      border-radius: 0.5rem;\r\n      box-shadow: 0 0 8px rgba(0,0,0,0.05);\r\n    }\r\n\r\n    @media (max-width: 576px) {\r\n      .btn-group {\r\n        flex-direction: column;\r\n        gap: 0.3rem;\r\n      }\r\n      .btn-group .btn {\r\n        width: 100%;\r\n      }\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-success py-3\">\r\n  <div class=\"container-fluid\">\r\n    <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\r\n      <img src=\"/IT2C_Enrollment_System_SourceCode/picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\r\n      Admin Panel\r\n    </a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav ms-auto\">\r\n          <li class=\"nav-item\"><a class=\"nav-link\" href=\"/IT2C_Enrollment_System_SourceCode/ADMIN/admin-dashboard.php\" class=\"btn btn-outline-secondary mb-3\">\r\n          <i class=\"bi bi-arrow-left\"></i> Back to Dashboard\r\n          </a>\r\n      </ul>\r\n      </div>\r\n    </div>\r\n  </nav> \r\n  <div class=\"container\">\r\n    <h2 class=\"text-center mb-4 text-success fw-bold\">\r\n      Manage Registrar/Staff Accounts\r\n    </h2>\r\n    <div class=\"d-flex justify-content-end mb-3\">\r\n      <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#addStaffModal\">\r\n        <i class=\"bi bi-plus-circle me-1\"></i>\r\n        Add Staff\r\n      </button>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-bordered table-striped align-middle mb-0\">\r\n        <thead class=\"table-success text-center\">\r\n          <tr>\r\n            <th>\r\n              ID\r\n            </th>\r\n            <th>\r\n              Full Name\r\n            </th>\r\n            <th>\r\n              Email\r\n            </th>\r\n            <th>\r\n              Position\r\n            </th>\r\n            <th>\r\n              Status\r\n            </th>\r\n            <th style=\"min-width:130px;\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <?php foreach ($staffList as $staff): ?>\r\n          <tr>\r\n            <td class=\"text-center\"><?= htmlspecialchars($staff['id']) ?></td>\r\n            <td><?= htmlspecialchars($staff['name']) ?></td>\r\n            <td><?= htmlspecialchars($staff['email']) ?></td>\r\n            <td><?= htmlspecialchars($staff['position']) ?></td>\r\n            <td class=\"text-center\">\r\n              <span class=\"badge <?= $staff['status'] === 'Active' ? 'bg-success' : 'bg-secondary' ?>\">\r\n                <?= htmlspecialchars($staff['status']) ?>\r\n              </span>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Staff Actions\">\r\n                <button class=\"btn btn-warning btn-sm\" title=\"Edit\"><i class=\"bi bi-pencil\"></i>\r\n                Edit\r\n              </button>\r\n                <button class=\"btn btn-danger btn-sm\" title=\"Delete\"><i class=\"bi bi-trash\"></i>\r\n                Delete\r\n              </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <?php endforeach; ?>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal fade\" id=\"addStaffModal\" tabindex=\"-1\" aria-labelledby=\"addStaffModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-md\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"addStaffModalLabel\">\r\n            Add New Staff\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <form method=\"POST\" novalidate>\r\n          <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffName\" class=\"form-label\">\r\n                Full Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"staffName\"\r\n                name=\"staffName\"\r\n                placeholder=\"Enter full name\"\r\n                required\r\n              />\r\n              <div class=\"invalid-feedback\">\r\n                Please enter full name.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffEmail\" class=\"form-label\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                id=\"staffEmail\"\r\n                name=\"staffEmail\"\r\n                placeholder=\"Enter email\"\r\n                required\r\n              />\r\n              <div class=\"invalid-feedback\">\r\n                Please enter a valid email.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffPosition\" class=\"form-label\">\r\n                Position\r\n              </label>\r\n              <select class=\"form-select\" id=\"staffPosition\" name=\"staffPosition\" required>\r\n                <option value=\"\" disabled selected>\r\n                  Select Position\r\n                </option>\r\n                <option value=\"Registrar\">\r\n                  Registrar\r\n                </option>\r\n                <option value=\"Enrollment Staff\">\r\n                  Enrollment Staff\r\n                </option>\r\n              </select>\r\n              <div class=\"invalid-feedback\">\r\n                Please select a position.\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"staffStatus\" class=\"form-label\">\r\n                Status\r\n              </label>\r\n              <select class=\"form-select\" id=\"staffStatus\" name=\"staffStatus\" required>\r\n                <option value=\"\" disabled selected>\r\n                  Select Status\r\n                </option>\r\n                <option value=\"Active\">\r\n                  Active\r\n                </option>\r\n                <option value=\"Inactive\">\r\n                  Inactive\r\n                </option>\r\n              </select>\r\n              <div class=\"invalid-feedback\">\r\n                Please select status.\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" class=\"btn btn-success\">\r\n              Add Staff\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <script>\r\n    (() => {\r\n      'use strict';\r\n      const forms = document.querySelectorAll('form');\r\n\r\n      Array.from(forms).forEach(form => {\r\n        form.addEventListener('submit', e => {\r\n          if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n          form.classList.add('was-validated');\r\n        });\r\n      });\r\n    })();\r\n  </script>\r\n</body>\r\n</html>\r\n"
        }
    ]
}