{
    "sourceFile": "cleaned-database.sql",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1748595273593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748596341926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,8 +238,10 @@\n   date_submitted DATE NOT NULL\r\n );\r\n \r\n INSERT INTO admin_settings (email, password)\r\n-VALUES ('admin@example.com', ''); -- password dapat naka-hash\r\n+VALUES ('admin@example.com', '');\r\n \r\n+SELECT * FROM students WHERE username IS NULL;\r\n+\r\n -- END OF FILE: view-pending-enrollemnt.sql\r\n \r\n"
                },
                {
                    "date": 1748596808943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -240,8 +240,11 @@\n \r\n INSERT INTO admin_settings (email, password)\r\n VALUES ('admin@example.com', '');\r\n \r\n-SELECT * FROM students WHERE username IS NULL;\r\n+-- Sample Insert\r\n+INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n+VALUES ('', 'admin@example.com', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W');\r\n \r\n+\r\n -- END OF FILE: view-pending-enrollemnt.sql\r\n \r\n"
                },
                {
                    "date": 1748597240127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,50 +1,32 @@\n--- CONSOLIDATED DATABASE SQL FILE\r\n+-- CLEANED & CONSOLIDATED DATABASE SQL FILE\r\n -- Database: enrollment_system\r\n \r\n CREATE DATABASE IF NOT EXISTS enrollment_system;\r\n USE enrollment_system;\r\n \r\n-\r\n--- START OF FILE: admin-dashboard.sql\r\n-\r\n -- Students Table\r\n CREATE TABLE students (\r\n     id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+    username VARCHAR(100) NOT NULL,\r\n     student_number VARCHAR(20) NOT NULL UNIQUE,\r\n     first_name VARCHAR(50) NOT NULL,\r\n+    middle_name VARCHAR(100),\r\n     last_name VARCHAR(50) NOT NULL,\r\n     year_level VARCHAR(10) NOT NULL,\r\n     course VARCHAR(100) NOT NULL,\r\n     status ENUM('Enrolled', 'Pending', 'Dropped') DEFAULT 'Pending',\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n-ALTER TABLE students \r\n-ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n-ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n-\r\n-\r\n--- Staff Table (teachers and other staff)\r\n-CREATE TABLE IF NOT EXISTS staff (\r\n-    staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-    staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n-    first_name VARCHAR(50) NOT NULL,\r\n-    last_name VARCHAR(50) NOT NULL,\r\n-    role VARCHAR(50) NOT NULL,\r\n-    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n-);\r\n-\r\n--- Admins Table (optional, if needed for admin login)\r\n+-- Admins Table\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n--- END OF FILE: admin-dashboard.sql\r\n \r\n-\r\n--- START OF FILE: admin-helpdesk.sql\r\n+-- Tickets System\r\n CREATE TABLE tickets (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   ticket_id VARCHAR(20) UNIQUE NOT NULL,\r\n   student_name VARCHAR(100) NOT NULL,\r\n@@ -62,61 +44,36 @@\n   message TEXT NOT NULL,\r\n   created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n   FOREIGN KEY (ticket_id) REFERENCES tickets(ticket_id) ON DELETE CASCADE\r\n );\r\n--- END OF FILE: admin-helpdesk.sql\r\n \r\n-\r\n--- START OF FILE: documents-upload.sql\r\n+-- Uploaded Documents\r\n CREATE TABLE uploaded_documents (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n-    student_id INT NOT NULL, -- FK for student, change type as needed\r\n+    student_id INT NOT NULL,\r\n     document_name VARCHAR(100) NOT NULL,\r\n     upload_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n     status ENUM('Uploaded', 'Verified', 'Rejected') NOT NULL DEFAULT 'Uploaded',\r\n     remarks TEXT,\r\n     file_path VARCHAR(255) NOT NULL\r\n );\r\n--- END OF FILE: documents-upload.sql\r\n \r\n-\r\n-\r\n-\r\n--- START OF FILE: enromment-status-student.sql\r\n-CREATE TABLE `enrollments` (\r\n-  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-  `student_id` INT UNSIGNED NOT NULL,\r\n-  `program` VARCHAR(100) NOT NULL,\r\n-  `year` VARCHAR(50) NOT NULL,\r\n-  `semester` VARCHAR(50) NOT NULL,\r\n-  `section` VARCHAR(50) NOT NULL,\r\n-  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n-  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n-  `rejection_reason` TEXT DEFAULT NULL,\r\n-  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n+-- Enrollments\r\n+CREATE TABLE enrollments (\r\n+  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+  student_id INT UNSIGNED NOT NULL,\r\n+  program VARCHAR(100) NOT NULL,\r\n+  year_level VARCHAR(50) NOT NULL,\r\n+  year VARCHAR(50) NOT NULL,\r\n+  semester VARCHAR(50) NOT NULL,\r\n+  section VARCHAR(50) NOT NULL,\r\n+  date_submitted DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n+  status ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n+  rejection_reason TEXT DEFAULT NULL,\r\n+  FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE\r\n );\r\n \r\n-SELECT * FROM enrollments WHERE student_id = 1;\r\n-ALTER TABLE enrollments ADD COLUMN year_level VARCHAR(50) NOT NULL AFTER program;\r\n-\r\n-\r\n-CREATE TABLE enrollments_student (\r\n-  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-  `student_id` INT UNSIGNED NOT NULL,\r\n-  `program` VARCHAR(100) NOT NULL,\r\n-  `year` VARCHAR(50) NOT NULL,\r\n-  `semester` VARCHAR(50) NOT NULL,\r\n-  `section` VARCHAR(50) NOT NULL,\r\n-  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n-  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n-  `rejection_reason` TEXT DEFAULT NULL,\r\n-  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n-);\r\n-\r\n--- END OF FILE: enromment-status-student.sql\r\n-\r\n-\r\n--- START OF FILE: helpdesk.sql\r\n+-- Helpdesk UI (UI Specific Table)\r\n CREATE TABLE helpdesk_tickets (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   ticket_id VARCHAR(20) NOT NULL UNIQUE,\r\n   student_name VARCHAR(100) NOT NULL,\r\n@@ -137,41 +94,22 @@\n   message_date DATETIME NOT NULL,\r\n   FOREIGN KEY (ticket_id) REFERENCES helpdesk_tickets(ticket_id) ON DELETE CASCADE\r\n );\r\n \r\n-INSERT INTO helpdesk_tickets (ticket_id, student_name, category, priority, priority_class, status, status_class, date_submitted, message) VALUES\r\n-('HD-2025-001', 'John Lester Lina', 'Enrollment Issue', 'High', 'bg-danger', 'Open', 'badge-open', '2025-05-20 10:15:00', 'I am having trouble with my enrollment status...'),\r\n-('HD-2025-002', 'Joshua Santos', 'Document Upload', 'Medium', 'bg-warning text-dark', 'In Progress', 'badge-inprogress', '2025-05-18 14:30:00', 'I uploaded my ID but status still pending.'),\r\n-('HD-2025-003', 'Jerick DC. Reyes', 'Payment', 'Low', 'bg-secondary', 'Resolved', 'badge-resolved', '2025-05-15 09:00:00', 'Payment confirmation not reflected yet.');\r\n-\r\n-INSERT INTO helpdesk_conversations (ticket_id, sender, message, message_date) VALUES\r\n-('HD-2025-001', 'Student (JM Dela Cruz)', 'Hi, my enrollment status is not updating.', '2025-05-20 10:20:00'),\r\n-('HD-2025-001', 'Admin', \"We're checking your issue, please wait for updates.\", '2025-05-20 10:30:00'),\r\n-('HD-2025-002', 'Student (Maria Santos)', 'I uploaded my ID but status still pending.', '2025-05-18 14:35:00'),\r\n-('HD-2025-002', 'Admin', 'We are verifying your documents.', '2025-05-18 15:00:00'),\r\n-('HD-2025-003', 'Student (Jose Rizal)', 'Payment confirmation not reflected yet.', '2025-05-15 09:05:00'),\r\n-('HD-2025-003', 'Admin', 'Payment verified, status updated.', '2025-05-15 09:20:00');\r\n-\r\n--- END OF FILE: helpdesk.sql\r\n-\r\n-\r\n--- START OF FILE: mysubjust.sql\r\n-\r\n+-- Subjects Table\r\n CREATE TABLE subjects (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   code VARCHAR(20) NOT NULL,\r\n   description VARCHAR(255) NOT NULL,\r\n   schedule VARCHAR(100) NOT NULL,\r\n   instructor VARCHAR(100) NOT NULL,\r\n   room VARCHAR(50) NOT NULL,\r\n   status ENUM('Confirmed', 'Pending') NOT NULL DEFAULT 'Pending',\r\n-  days VARCHAR(100) NOT NULL,   -- store days as comma separated string like 'Monday,Wednesday,Friday'\r\n+  days VARCHAR(100) NOT NULL,\r\n   time VARCHAR(50) NOT NULL\r\n );\r\n--- END OF FILE: mysubjust.sql\r\n \r\n-\r\n--- START OF FILE: setting.sql\r\n+-- Admin Settings Table\r\n CREATE TABLE admin_settings (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     name VARCHAR(255) NOT NULL,\r\n     email VARCHAR(255) NOT NULL,\r\n@@ -181,33 +119,18 @@\n     auto_backup BOOLEAN DEFAULT TRUE,\r\n     password VARCHAR(255) NOT NULL\r\n );\r\n \r\n--- Insert default admin user (hashed password for 'admin123')\r\n-INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n-VALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n--- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n--- END OF FILE: setting.sql\r\n-\r\n-\r\n--- START OF FILE: student-announce.sql\r\n+-- Announcements Table\r\n CREATE TABLE announcements (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     title VARCHAR(255) NOT NULL,\r\n     date DATE NOT NULL,\r\n     summary TEXT NOT NULL,\r\n     content TEXT NOT NULL\r\n );\r\n \r\n-INSERT INTO announcements (title, date, summary, content) VALUES\r\n-('Enrollment Deadline Extended', '2025-05-24', 'The deadline for enrollment...', '<p>The deadline for enrollment...</p>'),\r\n-('Orientation Schedule', '2025-06-01', 'Orientation will be held in June...', '<p>Orientation will be held on June 5 at the main hall.</p>');\r\n-\r\n-\r\n-\r\n--- START OF FILE: view-enrollment-historty.sql\r\n-\r\n-\r\n+-- Enrollment History View\r\n CREATE TABLE enrollment (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   student_id INT UNSIGNED NOT NULL,\r\n   semester VARCHAR(50),\r\n@@ -225,26 +148,17 @@\n   grade DECIMAL(3,2),\r\n   remarks VARCHAR(20),\r\n   FOREIGN KEY (enrollment_id) REFERENCES enrollment(id)\r\n );\r\n--- END OF FILE: view-enrollment-historty.sql\r\n \r\n-\r\n--- START OF FILE: view-pending-enrollemnt.sql\r\n+-- Pending Enrollments View\r\n CREATE TABLE pending_enrollments (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   name VARCHAR(255) NOT NULL,\r\n   year VARCHAR(50) NOT NULL,\r\n   program VARCHAR(100) NOT NULL,\r\n   date_submitted DATE NOT NULL\r\n );\r\n \r\n-INSERT INTO admin_settings (email, password)\r\n-VALUES ('admin@example.com', '');\r\n-\r\n -- Sample Insert\r\n INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n VALUES ('', 'admin@example.com', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W');\r\n-\r\n-\r\n--- END OF FILE: view-pending-enrollemnt.sql\r\n-\r\n"
                },
                {
                    "date": 1748604534974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,50 @@\n--- CLEANED & CONSOLIDATED DATABASE SQL FILE\r\n+-- CONSOLIDATED DATABASE SQL FILE\r\n -- Database: enrollment_system\r\n \r\n CREATE DATABASE IF NOT EXISTS enrollment_system;\r\n USE enrollment_system;\r\n \r\n+\r\n+-- START OF FILE: admin-dashboard.sql\r\n+\r\n -- Students Table\r\n CREATE TABLE students (\r\n     id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-    username VARCHAR(100) NOT NULL,\r\n     student_number VARCHAR(20) NOT NULL UNIQUE,\r\n     first_name VARCHAR(50) NOT NULL,\r\n-    middle_name VARCHAR(100),\r\n     last_name VARCHAR(50) NOT NULL,\r\n     year_level VARCHAR(10) NOT NULL,\r\n     course VARCHAR(100) NOT NULL,\r\n     status ENUM('Enrolled', 'Pending', 'Dropped') DEFAULT 'Pending',\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n--- Admins Table\r\n+ALTER TABLE students \r\n+ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n+ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n+\r\n+\r\n+-- Staff Table (teachers and other staff)\r\n+CREATE TABLE IF NOT EXISTS staff (\r\n+    staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+    staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n+    first_name VARCHAR(50) NOT NULL,\r\n+    last_name VARCHAR(50) NOT NULL,\r\n+    role VARCHAR(50) NOT NULL,\r\n+    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n+);\r\n+\r\n+-- Admins Table (optional, if needed for admin login)\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n+-- END OF FILE: admin-dashboard.sql\r\n \r\n--- Tickets System\r\n+\r\n+-- START OF FILE: admin-helpdesk.sql\r\n CREATE TABLE tickets (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   ticket_id VARCHAR(20) UNIQUE NOT NULL,\r\n   student_name VARCHAR(100) NOT NULL,\r\n@@ -44,36 +62,61 @@\n   message TEXT NOT NULL,\r\n   created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n   FOREIGN KEY (ticket_id) REFERENCES tickets(ticket_id) ON DELETE CASCADE\r\n );\r\n+-- END OF FILE: admin-helpdesk.sql\r\n \r\n--- Uploaded Documents\r\n+\r\n+-- START OF FILE: documents-upload.sql\r\n CREATE TABLE uploaded_documents (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n-    student_id INT NOT NULL,\r\n+    student_id INT NOT NULL, -- FK for student, change type as needed\r\n     document_name VARCHAR(100) NOT NULL,\r\n     upload_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n     status ENUM('Uploaded', 'Verified', 'Rejected') NOT NULL DEFAULT 'Uploaded',\r\n     remarks TEXT,\r\n     file_path VARCHAR(255) NOT NULL\r\n );\r\n+-- END OF FILE: documents-upload.sql\r\n \r\n--- Enrollments\r\n-CREATE TABLE enrollments (\r\n-  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-  student_id INT UNSIGNED NOT NULL,\r\n-  program VARCHAR(100) NOT NULL,\r\n-  year_level VARCHAR(50) NOT NULL,\r\n-  year VARCHAR(50) NOT NULL,\r\n-  semester VARCHAR(50) NOT NULL,\r\n-  section VARCHAR(50) NOT NULL,\r\n-  date_submitted DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n-  status ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n-  rejection_reason TEXT DEFAULT NULL,\r\n-  FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE\r\n+\r\n+\r\n+\r\n+-- START OF FILE: enromment-status-student.sql\r\n+CREATE TABLE `enrollments` (\r\n+  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+  `student_id` INT UNSIGNED NOT NULL,\r\n+  `program` VARCHAR(100) NOT NULL,\r\n+  `year` VARCHAR(50) NOT NULL,\r\n+  `semester` VARCHAR(50) NOT NULL,\r\n+  `section` VARCHAR(50) NOT NULL,\r\n+  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n+  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n+  `rejection_reason` TEXT DEFAULT NULL,\r\n+  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n );\r\n \r\n--- Helpdesk UI (UI Specific Table)\r\n+SELECT * FROM enrollments WHERE student_id = 1;\r\n+ALTER TABLE enrollments ADD COLUMN year_level VARCHAR(50) NOT NULL AFTER program;\r\n+\r\n+\r\n+CREATE TABLE enrollments_student (\r\n+  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+  `student_id` INT UNSIGNED NOT NULL,\r\n+  `program` VARCHAR(100) NOT NULL,\r\n+  `year` VARCHAR(50) NOT NULL,\r\n+  `semester` VARCHAR(50) NOT NULL,\r\n+  `section` VARCHAR(50) NOT NULL,\r\n+  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n+  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n+  `rejection_reason` TEXT DEFAULT NULL,\r\n+  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n+);\r\n+\r\n+-- END OF FILE: enromment-status-student.sql\r\n+\r\n+\r\n+-- START OF FILE: helpdesk.sql\r\n CREATE TABLE helpdesk_tickets (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   ticket_id VARCHAR(20) NOT NULL UNIQUE,\r\n   student_name VARCHAR(100) NOT NULL,\r\n@@ -94,22 +137,41 @@\n   message_date DATETIME NOT NULL,\r\n   FOREIGN KEY (ticket_id) REFERENCES helpdesk_tickets(ticket_id) ON DELETE CASCADE\r\n );\r\n \r\n--- Subjects Table\r\n+INSERT INTO helpdesk_tickets (ticket_id, student_name, category, priority, priority_class, status, status_class, date_submitted, message) VALUES\r\n+('HD-2025-001', 'John Lester Lina', 'Enrollment Issue', 'High', 'bg-danger', 'Open', 'badge-open', '2025-05-20 10:15:00', 'I am having trouble with my enrollment status...'),\r\n+('HD-2025-002', 'Joshua Santos', 'Document Upload', 'Medium', 'bg-warning text-dark', 'In Progress', 'badge-inprogress', '2025-05-18 14:30:00', 'I uploaded my ID but status still pending.'),\r\n+('HD-2025-003', 'Jerick DC. Reyes', 'Payment', 'Low', 'bg-secondary', 'Resolved', 'badge-resolved', '2025-05-15 09:00:00', 'Payment confirmation not reflected yet.');\r\n+\r\n+INSERT INTO helpdesk_conversations (ticket_id, sender, message, message_date) VALUES\r\n+('HD-2025-001', 'Student (JM Dela Cruz)', 'Hi, my enrollment status is not updating.', '2025-05-20 10:20:00'),\r\n+('HD-2025-001', 'Admin', \"We're checking your issue, please wait for updates.\", '2025-05-20 10:30:00'),\r\n+('HD-2025-002', 'Student (Maria Santos)', 'I uploaded my ID but status still pending.', '2025-05-18 14:35:00'),\r\n+('HD-2025-002', 'Admin', 'We are verifying your documents.', '2025-05-18 15:00:00'),\r\n+('HD-2025-003', 'Student (Jose Rizal)', 'Payment confirmation not reflected yet.', '2025-05-15 09:05:00'),\r\n+('HD-2025-003', 'Admin', 'Payment verified, status updated.', '2025-05-15 09:20:00');\r\n+\r\n+-- END OF FILE: helpdesk.sql\r\n+\r\n+\r\n+-- START OF FILE: mysubjust.sql\r\n+\r\n CREATE TABLE subjects (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   code VARCHAR(20) NOT NULL,\r\n   description VARCHAR(255) NOT NULL,\r\n   schedule VARCHAR(100) NOT NULL,\r\n   instructor VARCHAR(100) NOT NULL,\r\n   room VARCHAR(50) NOT NULL,\r\n   status ENUM('Confirmed', 'Pending') NOT NULL DEFAULT 'Pending',\r\n-  days VARCHAR(100) NOT NULL,\r\n+  days VARCHAR(100) NOT NULL,   -- store days as comma separated string like 'Monday,Wednesday,Friday'\r\n   time VARCHAR(50) NOT NULL\r\n );\r\n+-- END OF FILE: mysubjust.sql\r\n \r\n--- Admin Settings Table\r\n+\r\n+-- START OF FILE: setting.sql\r\n CREATE TABLE admin_settings (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     name VARCHAR(255) NOT NULL,\r\n     email VARCHAR(255) NOT NULL,\r\n@@ -119,18 +181,33 @@\n     auto_backup BOOLEAN DEFAULT TRUE,\r\n     password VARCHAR(255) NOT NULL\r\n );\r\n \r\n--- Announcements Table\r\n+-- Insert default admin user (hashed password for 'admin123')\r\n+INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n+VALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n+-- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n+-- END OF FILE: setting.sql\r\n+\r\n+\r\n+-- START OF FILE: student-announce.sql\r\n CREATE TABLE announcements (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     title VARCHAR(255) NOT NULL,\r\n     date DATE NOT NULL,\r\n     summary TEXT NOT NULL,\r\n     content TEXT NOT NULL\r\n );\r\n \r\n--- Enrollment History View\r\n+INSERT INTO announcements (title, date, summary, content) VALUES\r\n+('Enrollment Deadline Extended', '2025-05-24', 'The deadline for enrollment...', '<p>The deadline for enrollment...</p>'),\r\n+('Orientation Schedule', '2025-06-01', 'Orientation will be held in June...', '<p>Orientation will be held on June 5 at the main hall.</p>');\r\n+\r\n+\r\n+\r\n+-- START OF FILE: view-enrollment-historty.sql\r\n+\r\n+\r\n CREATE TABLE enrollment (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   student_id INT UNSIGNED NOT NULL,\r\n   semester VARCHAR(50),\r\n@@ -148,17 +225,26 @@\n   grade DECIMAL(3,2),\r\n   remarks VARCHAR(20),\r\n   FOREIGN KEY (enrollment_id) REFERENCES enrollment(id)\r\n );\r\n+-- END OF FILE: view-enrollment-historty.sql\r\n \r\n--- Pending Enrollments View\r\n+\r\n+-- START OF FILE: view-pending-enrollemnt.sql\r\n CREATE TABLE pending_enrollments (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   name VARCHAR(255) NOT NULL,\r\n   year VARCHAR(50) NOT NULL,\r\n   program VARCHAR(100) NOT NULL,\r\n   date_submitted DATE NOT NULL\r\n );\r\n \r\n+INSERT INTO admin_settings (email, password)\r\n+VALUES ('admin@example.com', '');\r\n+\r\n -- Sample Insert\r\n INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n VALUES ('', 'admin@example.com', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W');\r\n+\r\n+\r\n+-- END OF FILE: view-pending-enrollemnt.sql\r\n+\r\n"
                },
                {
                    "date": 1748607013178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,18 +23,8 @@\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n \r\n--- Staff Table (teachers and other staff)\r\n-CREATE TABLE IF NOT EXISTS staff (\r\n-    staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n-    staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n-    first_name VARCHAR(50) NOT NULL,\r\n-    last_name VARCHAR(50) NOT NULL,\r\n-    role VARCHAR(50) NOT NULL,\r\n-    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n-);\r\n-\r\n -- Admins Table (optional, if needed for admin login)\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n@@ -168,28 +158,22 @@\n   time VARCHAR(50) NOT NULL\r\n );\r\n -- END OF FILE: mysubjust.sql\r\n \r\n-\r\n--- START OF FILE: setting.sql\r\n-CREATE TABLE admin_settings (\r\n+CREATE TABLE admins (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n-    name VARCHAR(255) NOT NULL,\r\n-    email VARCHAR(255) NOT NULL,\r\n-    email_notify BOOLEAN DEFAULT TRUE,\r\n-    sms_notify BOOLEAN DEFAULT FALSE,\r\n-    maintenance_mode BOOLEAN DEFAULT FALSE,\r\n-    auto_backup BOOLEAN DEFAULT TRUE,\r\n-    password VARCHAR(255) NOT NULL\r\n+    name VARCHAR(100),\r\n+    email VARCHAR(100) UNIQUE,\r\n+    password VARCHAR(255)\r\n );\r\n \r\n--- Insert default admin user (hashed password for 'admin123')\r\n-INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n-VALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n--- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n--- END OF FILE: setting.sql\r\n+INSERT INTO admins (name, email, password)\r\n+VALUES (\r\n+    'Admin',\r\n+    'admin@example.com',\r\n+    '$2y$10$EYiI8QX0T3UccxGvFkk1N.gnr/EUl70h9FJ0I5UwKCeT9sPAbfHVe'\r\n+);\r\n \r\n-\r\n -- START OF FILE: student-announce.sql\r\n CREATE TABLE announcements (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     title VARCHAR(255) NOT NULL,\r\n@@ -237,14 +221,4 @@\n   program VARCHAR(100) NOT NULL,\r\n   date_submitted DATE NOT NULL\r\n );\r\n \r\n-INSERT INTO admin_settings (email, password)\r\n-VALUES ('admin@example.com', '');\r\n-\r\n--- Sample Insert\r\n-INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n-VALUES ('', 'admin@example.com', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W');\r\n-\r\n-\r\n--- END OF FILE: view-pending-enrollemnt.sql\r\n-\r\n"
                },
                {
                    "date": 1748607138933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,4 +221,9 @@\n   program VARCHAR(100) NOT NULL,\r\n   date_submitted DATE NOT NULL\r\n );\r\n \r\n+\r\n+-- admin acccount\r\n+\r\n+-- email:    admin@example.com\r\n+-- password: admin123\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748611200714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,18 @@\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n \r\n+-- Staff Table (teachers and other staff)\r\n+CREATE TABLE IF NOT EXISTS staff (\r\n+    staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n+    staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n+    first_name VARCHAR(50) NOT NULL,\r\n+    last_name VARCHAR(50) NOT NULL,\r\n+    role VARCHAR(50) NOT NULL,\r\n+    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n+);\r\n+\r\n -- Admins Table (optional, if needed for admin login)\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n@@ -158,22 +168,28 @@\n   time VARCHAR(50) NOT NULL\r\n );\r\n -- END OF FILE: mysubjust.sql\r\n \r\n-CREATE TABLE admins (\r\n+\r\n+-- START OF FILE: setting.sql\r\n+CREATE TABLE admin_settings (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n-    name VARCHAR(100),\r\n-    email VARCHAR(100) UNIQUE,\r\n-    password VARCHAR(255)\r\n+    name VARCHAR(255) NOT NULL,\r\n+    email VARCHAR(255) NOT NULL,\r\n+    email_notify BOOLEAN DEFAULT TRUE,\r\n+    sms_notify BOOLEAN DEFAULT FALSE,\r\n+    maintenance_mode BOOLEAN DEFAULT FALSE,\r\n+    auto_backup BOOLEAN DEFAULT TRUE,\r\n+    password VARCHAR(255) NOT NULL\r\n );\r\n \r\n-INSERT INTO admins (name, email, password)\r\n-VALUES (\r\n-    'Admin',\r\n-    'admin@example.com',\r\n-    '$2y$10$EYiI8QX0T3UccxGvFkk1N.gnr/EUl70h9FJ0I5UwKCeT9sPAbfHVe'\r\n-);\r\n+-- Insert default admin user (hashed password for 'admin123')\r\n+INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n+VALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n+-- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n+-- END OF FILE: setting.sql\r\n \r\n+\r\n -- START OF FILE: student-announce.sql\r\n CREATE TABLE announcements (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     title VARCHAR(255) NOT NULL,\r\n@@ -220,10 +236,6 @@\n   year VARCHAR(50) NOT NULL,\r\n   program VARCHAR(100) NOT NULL,\r\n   date_submitted DATE NOT NULL\r\n );\r\n+-- END OF FILE: view-pending-enrollemnt.sql\r\n \r\n-\r\n--- admin acccount\r\n-\r\n--- email:    admin@example.com\r\n\\ No newline at end of file\n--- password: admin123\n"
                },
                {
                    "date": 1748611296769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,4 +238,14 @@\n   date_submitted DATE NOT NULL\r\n );\r\n -- END OF FILE: view-pending-enrollemnt.sql\r\n \r\n+REATE TABLE admins (\r\n+    id INT AUTO_INCREMENT PRIMARY KEY,\r\n+    name VARCHAR(100),\r\n+    email VARCHAR(100) UNIQUE,\r\n+    password VARCHAR(255)\r\n+);\r\n+\r\n+-- Insert default admin (admin@example.com / admin123)\r\n+INSERT INTO admins (name, email, password)\r\n+VALUES ('Admin', 'admin@example.com', '$2y$10$EYiI8QX0T3UccxGvFkk1N.gnr/EUl70h9FJ0I5UwKCeT9sPAbfHVe');\r\n"
                },
                {
                    "date": 1748611328249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -169,27 +169,8 @@\n );\r\n -- END OF FILE: mysubjust.sql\r\n \r\n \r\n--- START OF FILE: setting.sql\r\n-CREATE TABLE admin_settings (\r\n-    id INT AUTO_INCREMENT PRIMARY KEY,\r\n-    name VARCHAR(255) NOT NULL,\r\n-    email VARCHAR(255) NOT NULL,\r\n-    email_notify BOOLEAN DEFAULT TRUE,\r\n-    sms_notify BOOLEAN DEFAULT FALSE,\r\n-    maintenance_mode BOOLEAN DEFAULT FALSE,\r\n-    auto_backup BOOLEAN DEFAULT TRUE,\r\n-    password VARCHAR(255) NOT NULL\r\n-);\r\n-\r\n--- Insert default admin user (hashed password for 'admin123')\r\n-INSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\n-VALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n--- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n--- END OF FILE: setting.sql\r\n-\r\n-\r\n -- START OF FILE: student-announce.sql\r\n CREATE TABLE announcements (\r\n     id INT AUTO_INCREMENT PRIMARY KEY,\r\n     title VARCHAR(255) NOT NULL,\r\n"
                },
                {
                    "date": 1748614693415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -229,4 +229,7 @@\n \r\n -- Insert default admin (admin@example.com / admin123)\r\n INSERT INTO admins (name, email, password)\r\n VALUES ('Admin', 'admin@example.com', '$2y$10$EYiI8QX0T3UccxGvFkk1N.gnr/EUl70h9FJ0I5UwKCeT9sPAbfHVe');\r\n+\r\n+\r\n+UPDATE students SET created_at = NOW() WHERE created_at IS NULL;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748621617052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,16 @@\n     role VARCHAR(50) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n+CREATE TABLE admin_settings (\r\n+  id INT AUTO_INCREMENT PRIMARY KEY,\r\n+  name VARCHAR(255) NOT NULL,\r\n+  email VARCHAR(255) NOT NULL,\r\n+  username VARCHAR(100) NOT NULL,\r\n+  password VARCHAR(255) NOT NULL\r\n+);\r\n+\r\n -- Admins Table (optional, if needed for admin login)\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n"
                },
                {
                    "date": 1748623594209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,11 @@\n     role VARCHAR(50) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n+ALTER TABLE admin_settings MODIFY COLUMN id INT AUTO_INCREMENT PRIMARY KEY;\r\n+\r\n+\r\n CREATE TABLE admin_settings (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   name VARCHAR(255) NOT NULL,\r\n   email VARCHAR(255) NOT NULL,\r\n"
                },
                {
                    "date": 1748623752896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,19 +33,19 @@\n     role VARCHAR(50) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n-ALTER TABLE admin_settings MODIFY COLUMN id INT AUTO_INCREMENT PRIMARY KEY;\r\n-\r\n-\r\n CREATE TABLE admin_settings (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   name VARCHAR(255) NOT NULL,\r\n   email VARCHAR(255) NOT NULL,\r\n   username VARCHAR(100) NOT NULL,\r\n   password VARCHAR(255) NOT NULL\r\n );\r\n \r\n+ALTER TABLE admin_settings DROP PRIMARY KEY;\r\n+ALTER TABLE admin_settings MODIFY COLUMN id INT NOT NULL AUTO_INCREMENT PRIMARY KEY;\r\n+\r\n -- Admins Table (optional, if needed for admin login)\r\n CREATE TABLE IF NOT EXISTS admins (\r\n     admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     password_hash VARCHAR(255) NOT NULL,\r\n"
                },
                {
                    "date": 1748624437737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,17 @@\n     role VARCHAR(50) NOT NULL,\r\n     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n );\r\n \r\n+CREATE TABLE registrar_staff (\r\n+  id INT AUTO_INCREMENT PRIMARY KEY,\r\n+  name VARCHAR(100) NOT NULL,\r\n+  email VARCHAR(100) NOT NULL UNIQUE,\r\n+  position VARCHAR(50) NOT NULL,\r\n+  status ENUM('Active', 'Inactive') DEFAULT 'Active'\r\n+);\r\n+\r\n+\r\n CREATE TABLE admin_settings (\r\n   id INT AUTO_INCREMENT PRIMARY KEY,\r\n   name VARCHAR(255) NOT NULL,\r\n   email VARCHAR(255) NOT NULL,\r\n"
                },
                {
                    "date": 1748636224347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,11 @@\n ALTER TABLE students \r\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n+ALTER TABLE students ADD COLUMN name VARCHAR(100) AFTER id;\r\n \r\n+\r\n -- Staff Table (teachers and other staff)\r\n CREATE TABLE IF NOT EXISTS staff (\r\n     staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n"
                },
                {
                    "date": 1748636572380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n ALTER TABLE students \r\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n-ALTER TABLE students ADD COLUMN name VARCHAR(100) AFTER id;\r\n+ALTER TABLE students ADD COLUMN program VARCHAR(100) AFTER student_name;\r\n \r\n \r\n -- Staff Table (teachers and other staff)\r\n CREATE TABLE IF NOT EXISTS staff (\r\n"
                },
                {
                    "date": 1748637463401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,10 @@\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n ALTER TABLE students ADD COLUMN program VARCHAR(100) AFTER student_name;\r\n+INSERT INTO students (student_number, first_name, middle_name, last_name)\r\n+VALUES ('2024001', 'Jerick', 'Dela Cruz', 'Reyes');\r\n \r\n \r\n -- Staff Table (teachers and other staff)\r\n CREATE TABLE IF NOT EXISTS staff (\r\n"
                },
                {
                    "date": 1748638396329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,14 @@\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n ALTER TABLE students ADD COLUMN program VARCHAR(100) AFTER student_name;\r\n-INSERT INTO students (student_number, first_name, middle_name, last_name)\r\n+INSERT INTO students (student_id, first_name, middle_name, last_name)\r\n VALUES ('2024001', 'Jerick', 'Dela Cruz', 'Reyes');\r\n+ALTER TABLE students CHANGE student_number student_id VARCHAR(20) UNIQUE;\r\n \r\n \r\n+\r\n -- Staff Table (teachers and other staff)\r\n CREATE TABLE IF NOT EXISTS staff (\r\n     staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n"
                },
                {
                    "date": 1748638409407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n ADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\n ADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n \r\n ALTER TABLE students ADD COLUMN program VARCHAR(100) AFTER student_name;\r\n-INSERT INTO students (student_id, first_name, middle_name, last_name)\r\n+INSERT INTO students (student_number, first_name, middle_name, last_name)\r\n VALUES ('2024001', 'Jerick', 'Dela Cruz', 'Reyes');\r\n ALTER TABLE students CHANGE student_number student_id VARCHAR(20) UNIQUE;\r\n \r\n \r\n"
                },
                {
                    "date": 1748639056900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,11 +26,10 @@\n ALTER TABLE students ADD COLUMN program VARCHAR(100) AFTER student_name;\r\n INSERT INTO students (student_number, first_name, middle_name, last_name)\r\n VALUES ('2024001', 'Jerick', 'Dela Cruz', 'Reyes');\r\n ALTER TABLE students CHANGE student_number student_id VARCHAR(20) UNIQUE;\r\n+ALTER TABLE students MODIFY student_id VARCHAR(50) NOT NULL;\r\n \r\n-\r\n-\r\n -- Staff Table (teachers and other staff)\r\n CREATE TABLE IF NOT EXISTS staff (\r\n     staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n     staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n"
                },
                {
                    "date": 1748639760296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -256,5 +256,22 @@\n INSERT INTO admins (name, email, password)\r\n VALUES ('Admin', 'admin@example.com', '$2y$10$EYiI8QX0T3UccxGvFkk1N.gnr/EUl70h9FJ0I5UwKCeT9sPAbfHVe');\r\n \r\n \r\n-UPDATE students SET created_at = NOW() WHERE created_at IS NULL;\n\\ No newline at end of file\n+UPDATE students SET created_at = NOW() WHERE created_at IS NULL;\r\n+\r\n+\r\n+ALTER TABLE student_subjects DROP FOREIGN KEY student_subjects_ibfk_1;\r\n+\r\n+SELECT CONSTRAINT_NAME\r\n+FROM information_schema.KEY_COLUMN_USAGE\r\n+WHERE TABLE_NAME = 'student_subjects' AND TABLE_SCHEMA = 'enrollment_system';\r\n+\r\n+ALTER TABLE students MODIFY student_id VARCHAR(50) NOT NULL;\r\n+\r\n+ALTER TABLE student_subjects MODIFY student_id VARCHAR(50) NOT NULL;\r\n+\r\n+ALTER TABLE student_subjects ADD INDEX (student_id);\r\n+\r\n+ALTER TABLE student_subjects\r\n+ADD CONSTRAINT fk_student_id\r\n+FOREIGN KEY (student_id) REFERENCES students(student_id);\r\n"
                }
            ],
            "date": 1748595273593,
            "name": "Commit-0",
            "content": "-- CONSOLIDATED DATABASE SQL FILE\r\n-- Database: enrollment_system\r\n\r\nCREATE DATABASE IF NOT EXISTS enrollment_system;\r\nUSE enrollment_system;\r\n\r\n\r\n-- START OF FILE: admin-dashboard.sql\r\n\r\n-- Students Table\r\nCREATE TABLE students (\r\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n    student_number VARCHAR(20) NOT NULL UNIQUE,\r\n    first_name VARCHAR(50) NOT NULL,\r\n    last_name VARCHAR(50) NOT NULL,\r\n    year_level VARCHAR(10) NOT NULL,\r\n    course VARCHAR(100) NOT NULL,\r\n    status ENUM('Enrolled', 'Pending', 'Dropped') DEFAULT 'Pending',\r\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\r\n\r\nALTER TABLE students \r\nADD COLUMN username VARCHAR(100) NOT NULL AFTER id,\r\nADD COLUMN middle_name VARCHAR(100) AFTER first_name;\r\n\r\n\r\n-- Staff Table (teachers and other staff)\r\nCREATE TABLE IF NOT EXISTS staff (\r\n    staff_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n    staff_number VARCHAR(20) NOT NULL UNIQUE,\r\n    first_name VARCHAR(50) NOT NULL,\r\n    last_name VARCHAR(50) NOT NULL,\r\n    role VARCHAR(50) NOT NULL,\r\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\r\n\r\n-- Admins Table (optional, if needed for admin login)\r\nCREATE TABLE IF NOT EXISTS admins (\r\n    admin_id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n    password_hash VARCHAR(255) NOT NULL,\r\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\r\n-- END OF FILE: admin-dashboard.sql\r\n\r\n\r\n-- START OF FILE: admin-helpdesk.sql\r\nCREATE TABLE tickets (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  ticket_id VARCHAR(20) UNIQUE NOT NULL,\r\n  student_name VARCHAR(100) NOT NULL,\r\n  category VARCHAR(50) NOT NULL,\r\n  priority ENUM('Low','Medium','High') NOT NULL DEFAULT 'Low',\r\n  status ENUM('Open','In Progress','Resolved','Closed') NOT NULL DEFAULT 'Open',\r\n  date_submitted DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  message TEXT NOT NULL\r\n);\r\n\r\nCREATE TABLE conversations (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  ticket_id VARCHAR(20) NOT NULL,\r\n  sender VARCHAR(50) NOT NULL,\r\n  message TEXT NOT NULL,\r\n  created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  FOREIGN KEY (ticket_id) REFERENCES tickets(ticket_id) ON DELETE CASCADE\r\n);\r\n-- END OF FILE: admin-helpdesk.sql\r\n\r\n\r\n-- START OF FILE: documents-upload.sql\r\nCREATE TABLE uploaded_documents (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    student_id INT NOT NULL, -- FK for student, change type as needed\r\n    document_name VARCHAR(100) NOT NULL,\r\n    upload_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n    status ENUM('Uploaded', 'Verified', 'Rejected') NOT NULL DEFAULT 'Uploaded',\r\n    remarks TEXT,\r\n    file_path VARCHAR(255) NOT NULL\r\n);\r\n-- END OF FILE: documents-upload.sql\r\n\r\n\r\n\r\n\r\n-- START OF FILE: enromment-status-student.sql\r\nCREATE TABLE `enrollments` (\r\n  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n  `student_id` INT UNSIGNED NOT NULL,\r\n  `program` VARCHAR(100) NOT NULL,\r\n  `year` VARCHAR(50) NOT NULL,\r\n  `semester` VARCHAR(50) NOT NULL,\r\n  `section` VARCHAR(50) NOT NULL,\r\n  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n  `rejection_reason` TEXT DEFAULT NULL,\r\n  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n);\r\n\r\nSELECT * FROM enrollments WHERE student_id = 1;\r\nALTER TABLE enrollments ADD COLUMN year_level VARCHAR(50) NOT NULL AFTER program;\r\n\r\n\r\nCREATE TABLE enrollments_student (\r\n  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\r\n  `student_id` INT UNSIGNED NOT NULL,\r\n  `program` VARCHAR(100) NOT NULL,\r\n  `year` VARCHAR(50) NOT NULL,\r\n  `semester` VARCHAR(50) NOT NULL,\r\n  `section` VARCHAR(50) NOT NULL,\r\n  `date_submitted` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  `status` ENUM('Pending','Approved','Rejected') NOT NULL DEFAULT 'Pending',\r\n  `rejection_reason` TEXT DEFAULT NULL,\r\n  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE\r\n);\r\n\r\n-- END OF FILE: enromment-status-student.sql\r\n\r\n\r\n-- START OF FILE: helpdesk.sql\r\nCREATE TABLE helpdesk_tickets (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  ticket_id VARCHAR(20) NOT NULL UNIQUE,\r\n  student_name VARCHAR(100) NOT NULL,\r\n  category VARCHAR(50) NOT NULL,\r\n  priority ENUM('Low', 'Medium', 'High') NOT NULL DEFAULT 'Low',\r\n  priority_class VARCHAR(50) NOT NULL,\r\n  status ENUM('Open', 'In Progress', 'Resolved', 'Closed') NOT NULL DEFAULT 'Open',\r\n  status_class VARCHAR(50) NOT NULL,\r\n  date_submitted DATETIME NOT NULL,\r\n  message TEXT NOT NULL\r\n);\r\n\r\nCREATE TABLE helpdesk_conversations (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  ticket_id VARCHAR(20) NOT NULL,\r\n  sender VARCHAR(50) NOT NULL,\r\n  message TEXT NOT NULL,\r\n  message_date DATETIME NOT NULL,\r\n  FOREIGN KEY (ticket_id) REFERENCES helpdesk_tickets(ticket_id) ON DELETE CASCADE\r\n);\r\n\r\nINSERT INTO helpdesk_tickets (ticket_id, student_name, category, priority, priority_class, status, status_class, date_submitted, message) VALUES\r\n('HD-2025-001', 'John Lester Lina', 'Enrollment Issue', 'High', 'bg-danger', 'Open', 'badge-open', '2025-05-20 10:15:00', 'I am having trouble with my enrollment status...'),\r\n('HD-2025-002', 'Joshua Santos', 'Document Upload', 'Medium', 'bg-warning text-dark', 'In Progress', 'badge-inprogress', '2025-05-18 14:30:00', 'I uploaded my ID but status still pending.'),\r\n('HD-2025-003', 'Jerick DC. Reyes', 'Payment', 'Low', 'bg-secondary', 'Resolved', 'badge-resolved', '2025-05-15 09:00:00', 'Payment confirmation not reflected yet.');\r\n\r\nINSERT INTO helpdesk_conversations (ticket_id, sender, message, message_date) VALUES\r\n('HD-2025-001', 'Student (JM Dela Cruz)', 'Hi, my enrollment status is not updating.', '2025-05-20 10:20:00'),\r\n('HD-2025-001', 'Admin', \"We're checking your issue, please wait for updates.\", '2025-05-20 10:30:00'),\r\n('HD-2025-002', 'Student (Maria Santos)', 'I uploaded my ID but status still pending.', '2025-05-18 14:35:00'),\r\n('HD-2025-002', 'Admin', 'We are verifying your documents.', '2025-05-18 15:00:00'),\r\n('HD-2025-003', 'Student (Jose Rizal)', 'Payment confirmation not reflected yet.', '2025-05-15 09:05:00'),\r\n('HD-2025-003', 'Admin', 'Payment verified, status updated.', '2025-05-15 09:20:00');\r\n\r\n-- END OF FILE: helpdesk.sql\r\n\r\n\r\n-- START OF FILE: mysubjust.sql\r\n\r\nCREATE TABLE subjects (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  code VARCHAR(20) NOT NULL,\r\n  description VARCHAR(255) NOT NULL,\r\n  schedule VARCHAR(100) NOT NULL,\r\n  instructor VARCHAR(100) NOT NULL,\r\n  room VARCHAR(50) NOT NULL,\r\n  status ENUM('Confirmed', 'Pending') NOT NULL DEFAULT 'Pending',\r\n  days VARCHAR(100) NOT NULL,   -- store days as comma separated string like 'Monday,Wednesday,Friday'\r\n  time VARCHAR(50) NOT NULL\r\n);\r\n-- END OF FILE: mysubjust.sql\r\n\r\n\r\n-- START OF FILE: setting.sql\r\nCREATE TABLE admin_settings (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    name VARCHAR(255) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    email_notify BOOLEAN DEFAULT TRUE,\r\n    sms_notify BOOLEAN DEFAULT FALSE,\r\n    maintenance_mode BOOLEAN DEFAULT FALSE,\r\n    auto_backup BOOLEAN DEFAULT TRUE,\r\n    password VARCHAR(255) NOT NULL\r\n);\r\n\r\n-- Insert default admin user (hashed password for 'admin123')\r\nINSERT INTO admin_settings (name, email, email_notify, sms_notify, maintenance_mode, auto_backup, password)\r\nVALUES ('', '', TRUE, FALSE, FALSE, TRUE, '$2y$10$TKh8H1.Pri7en2ZWjiOgVeuUIZ9W9LZ9ZxQAw/0JX2jXQozj8fG4W'); \r\n-- This hash corresponds to password_hash(\"admin123\", PASSWORD_DEFAULT);\r\n-- END OF FILE: setting.sql\r\n\r\n\r\n-- START OF FILE: student-announce.sql\r\nCREATE TABLE announcements (\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    title VARCHAR(255) NOT NULL,\r\n    date DATE NOT NULL,\r\n    summary TEXT NOT NULL,\r\n    content TEXT NOT NULL\r\n);\r\n\r\nINSERT INTO announcements (title, date, summary, content) VALUES\r\n('Enrollment Deadline Extended', '2025-05-24', 'The deadline for enrollment...', '<p>The deadline for enrollment...</p>'),\r\n('Orientation Schedule', '2025-06-01', 'Orientation will be held in June...', '<p>Orientation will be held on June 5 at the main hall.</p>');\r\n\r\n\r\n\r\n-- START OF FILE: view-enrollment-historty.sql\r\n\r\n\r\nCREATE TABLE enrollment (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  student_id INT UNSIGNED NOT NULL,\r\n  semester VARCHAR(50),\r\n  school_year VARCHAR(20),\r\n  FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE\r\n);\r\n\r\nCREATE TABLE enrollment_subjects (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  enrollment_id INT,\r\n  subject_code VARCHAR(20),\r\n  description VARCHAR(100),\r\n  units INT,\r\n  instructor VARCHAR(100),\r\n  grade DECIMAL(3,2),\r\n  remarks VARCHAR(20),\r\n  FOREIGN KEY (enrollment_id) REFERENCES enrollment(id)\r\n);\r\n-- END OF FILE: view-enrollment-historty.sql\r\n\r\n\r\n-- START OF FILE: view-pending-enrollemnt.sql\r\nCREATE TABLE pending_enrollments (\r\n  id INT AUTO_INCREMENT PRIMARY KEY,\r\n  name VARCHAR(255) NOT NULL,\r\n  year VARCHAR(50) NOT NULL,\r\n  program VARCHAR(100) NOT NULL,\r\n  date_submitted DATE NOT NULL\r\n);\r\n\r\nINSERT INTO admin_settings (email, password)\r\nVALUES ('admin@example.com', ''); -- password dapat naka-hash\r\n\r\n-- END OF FILE: view-pending-enrollemnt.sql\r\n\r\n"
        }
    ]
}