{
    "sourceFile": "student/student-dashboard.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 17,
            "patches": [
                {
                    "date": 1749393758269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1749393768357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -385,9 +385,9 @@\n                 <div class=\"list-group\">\n                     <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n-                    <a href=\"Enrollment/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/view-enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n                     <a href=\"Enrollment/view_assigned_subjects.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n"
                },
                {
                    "date": 1749394042547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -385,9 +385,9 @@\n                 <div class=\"list-group\">\n                     <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n-                    <a href=\"Enrollment/view-enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"/MyEnrollAssignUpload/enrollment-status\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n                     <a href=\"Enrollment/view_assigned_subjects.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n"
                },
                {
                    "date": 1749394071309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -385,9 +385,9 @@\n                 <div class=\"list-group\">\n                     <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n-                    <a href=\"/MyEnrollAssignUpload/enrollment-status\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/view-enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n                     <a href=\"Enrollment/view_assigned_subjects.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n"
                },
                {
                    "date": 1749394846873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,18 +382,18 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n-                    <a href=\"Enrollment/view-enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n-                    <a href=\"Enrollment/view_assigned_subjects.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/assigned-subjects.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n                     </a>\n-                    <a href=\"Enrollment/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-printer me-2\"></i>Print Enrollment Slip\n                     </a>\n                 </div>\n             </div>\n"
                },
                {
                    "date": 1749395265863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -391,9 +391,9 @@\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/assigned-subjects.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n                     </a>\n-                    <a href=\"MyEnrollAssignUpload/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-printer me-2\"></i>Print Enrollment Slip\n                     </a>\n                 </div>\n             </div>\n"
                },
                {
                    "date": 1749399808006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,9 +382,9 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n"
                },
                {
                    "date": 1749399909290,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,9 +382,9 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"MyEnrollAssignUpload/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n"
                },
                {
                    "date": 1749399943605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,9 +382,9 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/fill-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n"
                },
                {
                    "date": 1749399999758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,11 +382,11 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"Enrollment/fill-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n-                        <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n-                    </a>\n+                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+    <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n+</a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/assigned-subjects.php\" class=\"list-group-item list-group-item-action\">\n"
                },
                {
                    "date": 1749400067955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,11 +382,11 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"MyEnrollAssignUpload/enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n-    <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n-</a>\n+                    <a href=\"Enrollment/fill-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                        <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n+                    </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/assigned-subjects.php\" class=\"list-group-item list-group-item-action\">\n"
                },
                {
                    "date": 1749400102004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,9 +382,9 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"Enrollment/fill-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n"
                },
                {
                    "date": 1749400124255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,9 +382,9 @@\n         <div class=\"row\">\n             <div class=\"col-md-6\">\n                 <h4 class=\"section-title\">Enrollment Services</h4>\n                 <div class=\"list-group\">\n-                    <a href=\"Enrollment/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n+                    <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                     </a>\n                     <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                         <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n"
                },
                {
                    "date": 1749409630054,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,10 +5,11 @@\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n \n-// Include database connection\n+// Include database connection and helper functions\n require_once '../db.php';\n+require_once 'student-dashboard-helper.php';\n \n $student_id = $_SESSION['student_id'];\n \n // Fetch student information\n@@ -21,8 +22,11 @@\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n \n+// Get formatted student ID\n+$formattedStudentId = getStudentFormattedId($pdo, $student_id);\n+\n // Fetch enrollment status\n $stmt = $pdo->prepare(\"SELECT * FROM enrollments WHERE student_id = ? ORDER BY date_submitted DESC LIMIT 1\");\n $stmt->execute([$student_id]);\n $enrollment = $stmt->fetch();\n@@ -38,8 +42,11 @@\n         'date_submitted' => null\n     ];\n }\n \n+// Get enrollment status info\n+$statusInfo = getEnrollmentStatusInfo($enrollment['status']);\n+\n // Count uploaded documents\n $stmt = $pdo->prepare(\"SELECT COUNT(*) as doc_count FROM uploaded_documents WHERE student_id = ?\");\n $stmt->execute([$student_id]);\n $docCount = $stmt->fetch()['doc_count'];\n@@ -177,15 +184,32 @@\n             padding: 8px 16px;\n             border-radius: 25px;\n             font-weight: 600;\n             font-size: 0.9rem;\n+            display: inline-flex;\n+            align-items: center;\n+            gap: 5px;\n         }\n \n         .status-approved { background-color: #4caf50; color: white; }\n         .status-pending { background-color: #ff9800; color: white; }\n         .status-rejected { background-color: #f44336; color: white; }\n+        .status-warning { background-color: #ff5722; color: white; }\n         .status-not-enrolled { background-color: #9e9e9e; color: white; }\n \n+        .student-id-display {\n+            font-family: 'Courier New', monospace;\n+            background: linear-gradient(135deg, var(--light-green), var(--hover-green));\n+            padding: 10px 15px;\n+            border-radius: 10px;\n+            border: 2px solid var(--accent-green);\n+            font-weight: bold;\n+            font-size: 1.1rem;\n+            color: var(--dark-green);\n+            display: inline-block;\n+            margin-top: 5px;\n+        }\n+\n         .section-title {\n             color: var(--primary-green);\n             font-weight: 700;\n             margin-bottom: 1.5rem;\n@@ -251,16 +275,28 @@\n             padding: 2rem 0;\n             margin-top: 3rem;\n         }\n \n+        .alert-enrollment {\n+            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);\n+            border: 1px solid #ffc107;\n+            border-radius: 15px;\n+            padding: 1rem;\n+            margin-bottom: 1rem;\n+        }\n+\n         @media (max-width: 768px) {\n             .profile-card {\n                 text-align: center;\n             }\n             \n             .stats-card {\n                 margin-bottom: 1rem;\n             }\n+            \n+            .student-id-display {\n+                font-size: 1rem;\n+            }\n         }\n     </style>\n </head>\n <body>\n@@ -292,8 +328,29 @@\n         </div>\n     </nav>\n \n     <div class=\"container my-4\">\n+        <!-- Enrollment Action Alert -->\n+        <?php if (needsEnrollmentAction($enrollment)): ?>\n+        <div class=\"alert-enrollment\">\n+            <div class=\"d-flex align-items-center\">\n+                <i class=\"bi bi-exclamation-triangle-fill text-warning me-3\" style=\"font-size: 1.5rem;\"></i>\n+                <div>\n+                    <h6 class=\"mb-1\">Action Required</h6>\n+                    <p class=\"mb-0\">\n+                        <?php if ($enrollment['status'] === 'not_enrolled'): ?>\n+                            You haven't enrolled yet. Please complete your enrollment to access all features.\n+                        <?php elseif ($enrollment['status'] === 'pending'): ?>\n+                            Your enrollment is pending review. Please wait for admin approval.\n+                        <?php elseif ($enrollment['status'] === 'missing_documents'): ?>\n+                            Your enrollment requires additional documents. Please upload the missing requirements.\n+                        <?php endif; ?>\n+                    </p>\n+                </div>\n+            </div>\n+        </div>\n+        <?php endif; ?>\n+\n         <!-- Welcome Section -->\n         <div class=\"profile-card\">\n             <div class=\"row align-items-center\">\n                 <div class=\"col-md-3 text-center\">\n@@ -303,16 +360,23 @@\n                     <h2 class=\"welcome-text mb-2\">Welcome back, <?= htmlspecialchars($student['first_name']) ?>!</h2>\n                     <h4 class=\"text-dark mb-3\"><?= htmlspecialchars($studentName) ?></h4>\n                     <div class=\"row\">\n                         <div class=\"col-md-6\">\n-                            <p class=\"mb-1\"><strong>Student ID:</strong> <?= htmlspecialchars($student['student_id']) ?></p>\n-                            <p class=\"mb-1\"><strong>Email:</strong> <?= htmlspecialchars($student['email']) ?></p>\n+                            <p class=\"mb-2\"><strong>Student ID:</strong></p>\n+                            <div class=\"student-id-display\">\n+                                <?= htmlspecialchars($formattedStudentId) ?>\n+                            </div>\n+                            <?php if ($formattedStudentId != $student_id): ?>\n+                                <small class=\"text-muted d-block mt-1\">System ID: <?= htmlspecialchars($student_id) ?></small>\n+                            <?php endif; ?>\n                         </div>\n                         <div class=\"col-md-6\">\n+                            <p class=\"mb-1\"><strong>Email:</strong> <?= htmlspecialchars($student['email']) ?></p>\n                             <p class=\"mb-1\"><strong>Program:</strong> <?= htmlspecialchars($enrollment['program']) ?></p>\n                             <p class=\"mb-1\"><strong>Status:</strong> \n-                                <span class=\"status-badge status-<?= str_replace('_', '-', $enrollment['status']) ?>\">\n-                                    <?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?>\n+                                <span class=\"status-badge <?= $statusInfo['class'] ?>\">\n+                                    <i class=\"bi <?= $statusInfo['icon'] ?>\"></i>\n+                                    <?= $statusInfo['text'] ?>\n                                 </span>\n                             </p>\n                         </div>\n                     </div>\n@@ -325,9 +389,9 @@\n             <div class=\"col-md-3 col-sm-6 mb-3\">\n                 <div class=\"stats-card\">\n                     <i class=\"bi bi-journal-check stats-icon icon-enrollment\"></i>\n                     <h5>Enrollment</h5>\n-                    <p class=\"text-muted mb-0\"><?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?></p>\n+                    <p class=\"text-muted mb-0\"><?= $statusInfo['text'] ?></p>\n                 </div>\n             </div>\n             <div class=\"col-md-3 col-sm-6 mb-3\">\n                 <div class=\"stats-card\">\n"
                },
                {
                    "date": 1749409705864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -364,9 +364,9 @@\n                             <p class=\"mb-2\"><strong>Student ID:</strong></p>\n                             <div class=\"student-id-display\">\n                                 <?= htmlspecialchars($formattedStudentId) ?>\n                             </div>\n-                            <?php if ($formattedStudentId != $student_id): ?>\n+                            <?php if ($formattedStudentId !== $student_id): ?>\n                                 <small class=\"text-muted d-block mt-1\">System ID: <?= htmlspecialchars($student_id) ?></small>\n                             <?php endif; ?>\n                         </div>\n                         <div class=\"col-md-6\">\n"
                },
                {
                    "date": 1749409756213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,11 +5,10 @@\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n \n-// Include database connection and helper functions\n+// Include database connection\n require_once '../db.php';\n-require_once 'student-dashboard-helper.php';\n \n $student_id = $_SESSION['student_id'];\n \n // Fetch student information\n@@ -22,11 +21,8 @@\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n \n-// Get formatted student ID\n-$formattedStudentId = getStudentFormattedId($pdo, $student_id);\n-\n // Fetch enrollment status\n $stmt = $pdo->prepare(\"SELECT * FROM enrollments WHERE student_id = ? ORDER BY date_submitted DESC LIMIT 1\");\n $stmt->execute([$student_id]);\n $enrollment = $stmt->fetch();\n@@ -42,11 +38,8 @@\n         'date_submitted' => null\n     ];\n }\n \n-// Get enrollment status info\n-$statusInfo = getEnrollmentStatusInfo($enrollment['status']);\n-\n // Count uploaded documents\n $stmt = $pdo->prepare(\"SELECT COUNT(*) as doc_count FROM uploaded_documents WHERE student_id = ?\");\n $stmt->execute([$student_id]);\n $docCount = $stmt->fetch()['doc_count'];\n@@ -184,32 +177,15 @@\n             padding: 8px 16px;\n             border-radius: 25px;\n             font-weight: 600;\n             font-size: 0.9rem;\n-            display: inline-flex;\n-            align-items: center;\n-            gap: 5px;\n         }\n \n         .status-approved { background-color: #4caf50; color: white; }\n         .status-pending { background-color: #ff9800; color: white; }\n         .status-rejected { background-color: #f44336; color: white; }\n-        .status-warning { background-color: #ff5722; color: white; }\n         .status-not-enrolled { background-color: #9e9e9e; color: white; }\n \n-        .student-id-display {\n-            font-family: 'Courier New', monospace;\n-            background: linear-gradient(135deg, var(--light-green), var(--hover-green));\n-            padding: 10px 15px;\n-            border-radius: 10px;\n-            border: 2px solid var(--accent-green);\n-            font-weight: bold;\n-            font-size: 1.1rem;\n-            color: var(--dark-green);\n-            display: inline-block;\n-            margin-top: 5px;\n-        }\n-\n         .section-title {\n             color: var(--primary-green);\n             font-weight: 700;\n             margin-bottom: 1.5rem;\n@@ -275,28 +251,16 @@\n             padding: 2rem 0;\n             margin-top: 3rem;\n         }\n \n-        .alert-enrollment {\n-            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);\n-            border: 1px solid #ffc107;\n-            border-radius: 15px;\n-            padding: 1rem;\n-            margin-bottom: 1rem;\n-        }\n-\n         @media (max-width: 768px) {\n             .profile-card {\n                 text-align: center;\n             }\n             \n             .stats-card {\n                 margin-bottom: 1rem;\n             }\n-            \n-            .student-id-display {\n-                font-size: 1rem;\n-            }\n         }\n     </style>\n </head>\n <body>\n@@ -328,29 +292,8 @@\n         </div>\n     </nav>\n \n     <div class=\"container my-4\">\n-        <!-- Enrollment Action Alert -->\n-        <?php if (needsEnrollmentAction($enrollment)): ?>\n-        <div class=\"alert-enrollment\">\n-            <div class=\"d-flex align-items-center\">\n-                <i class=\"bi bi-exclamation-triangle-fill text-warning me-3\" style=\"font-size: 1.5rem;\"></i>\n-                <div>\n-                    <h6 class=\"mb-1\">Action Required</h6>\n-                    <p class=\"mb-0\">\n-                        <?php if ($enrollment['status'] === 'not_enrolled'): ?>\n-                            You haven't enrolled yet. Please complete your enrollment to access all features.\n-                        <?php elseif ($enrollment['status'] === 'pending'): ?>\n-                            Your enrollment is pending review. Please wait for admin approval.\n-                        <?php elseif ($enrollment['status'] === 'missing_documents'): ?>\n-                            Your enrollment requires additional documents. Please upload the missing requirements.\n-                        <?php endif; ?>\n-                    </p>\n-                </div>\n-            </div>\n-        </div>\n-        <?php endif; ?>\n-\n         <!-- Welcome Section -->\n         <div class=\"profile-card\">\n             <div class=\"row align-items-center\">\n                 <div class=\"col-md-3 text-center\">\n@@ -360,23 +303,16 @@\n                     <h2 class=\"welcome-text mb-2\">Welcome back, <?= htmlspecialchars($student['first_name']) ?>!</h2>\n                     <h4 class=\"text-dark mb-3\"><?= htmlspecialchars($studentName) ?></h4>\n                     <div class=\"row\">\n                         <div class=\"col-md-6\">\n-                            <p class=\"mb-2\"><strong>Student ID:</strong></p>\n-                            <div class=\"student-id-display\">\n-                                <?= htmlspecialchars($formattedStudentId) ?>\n-                            </div>\n-                            <?php if ($formattedStudentId !== $student_id): ?>\n-                                <small class=\"text-muted d-block mt-1\">System ID: <?= htmlspecialchars($student_id) ?></small>\n-                            <?php endif; ?>\n+                            <p class=\"mb-1\"><strong>Student ID:</strong> <?= htmlspecialchars($student['student_id']) ?></p>\n+                            <p class=\"mb-1\"><strong>Email:</strong> <?= htmlspecialchars($student['email']) ?></p>\n                         </div>\n                         <div class=\"col-md-6\">\n-                            <p class=\"mb-1\"><strong>Email:</strong> <?= htmlspecialchars($student['email']) ?></p>\n                             <p class=\"mb-1\"><strong>Program:</strong> <?= htmlspecialchars($enrollment['program']) ?></p>\n                             <p class=\"mb-1\"><strong>Status:</strong> \n-                                <span class=\"status-badge <?= $statusInfo['class'] ?>\">\n-                                    <i class=\"bi <?= $statusInfo['icon'] ?>\"></i>\n-                                    <?= $statusInfo['text'] ?>\n+                                <span class=\"status-badge status-<?= str_replace('_', '-', $enrollment['status']) ?>\">\n+                                    <?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?>\n                                 </span>\n                             </p>\n                         </div>\n                     </div>\n@@ -389,9 +325,9 @@\n             <div class=\"col-md-3 col-sm-6 mb-3\">\n                 <div class=\"stats-card\">\n                     <i class=\"bi bi-journal-check stats-icon icon-enrollment\"></i>\n                     <h5>Enrollment</h5>\n-                    <p class=\"text-muted mb-0\"><?= $statusInfo['text'] ?></p>\n+                    <p class=\"text-muted mb-0\"><?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?></p>\n                 </div>\n             </div>\n             <div class=\"col-md-3 col-sm-6 mb-3\">\n                 <div class=\"stats-card\">\n"
                },
                {
                    "date": 1749414106148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,13 @@\n <?php\n session_start();\n \n+if ($student_id == 0) {\n+    session_destroy();\n+    header(\"Location: ../logregfor/login.php\");\n+    exit;\n+}\n+\n if (!isset($_SESSION['student_id'])) {\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n"
                },
                {
                    "date": 1749414217919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,7 @@\n <?php\n session_start();\n \n-if ($student_id == 0) {\n-    session_destroy();\n-    header(\"Location: ../logregfor/login.php\");\n-    exit;\n-}\n-\n if (!isset($_SESSION['student_id'])) {\n     header(\"Location: ../logregfor/login.php\");\n     exit;\n }\n"
                }
            ],
            "date": 1749393758269,
            "name": "Commit-0",
            "content": "<?php\nsession_start();\n\nif (!isset($_SESSION['student_id'])) {\n    header(\"Location: ../logregfor/login.php\");\n    exit;\n}\n\n// Include database connection\nrequire_once '../db.php';\n\n$student_id = $_SESSION['student_id'];\n\n// Fetch student information\n$stmt = $pdo->prepare(\"SELECT * FROM students WHERE student_id = ?\");\n$stmt->execute([$student_id]);\n$student = $stmt->fetch();\n\nif (!$student) {\n    session_destroy();\n    header(\"Location: ../logregfor/login.php\");\n    exit;\n}\n\n// Fetch enrollment status\n$stmt = $pdo->prepare(\"SELECT * FROM enrollments WHERE student_id = ? ORDER BY date_submitted DESC LIMIT 1\");\n$stmt->execute([$student_id]);\n$enrollment = $stmt->fetch();\n\n// Set default values if no enrollment found\nif (!$enrollment) {\n    $enrollment = [\n        'program' => 'Not Enrolled',\n        'year_level' => 'N/A',\n        'semester' => 'N/A',\n        'section' => 'N/A',\n        'status' => 'not_enrolled',\n        'date_submitted' => null\n    ];\n}\n\n// Count uploaded documents\n$stmt = $pdo->prepare(\"SELECT COUNT(*) as doc_count FROM uploaded_documents WHERE student_id = ?\");\n$stmt->execute([$student_id]);\n$docCount = $stmt->fetch()['doc_count'];\n\n// Count assigned subjects\n$stmt = $pdo->prepare(\"SELECT COUNT(*) as subject_count FROM student_subjects ss JOIN subjects s ON ss.subject_id = s.id WHERE ss.student_id = ?\");\n$stmt->execute([$student_id]);\n$subjectCount = $stmt->fetch()['subject_count'];\n\n$studentName = trim($student['first_name'] . ' ' . ($student['middle_name'] ? $student['middle_name'] . ' ' : '') . $student['last_name']);\n$photo = $student['photo'] ?? 'student/uploads/default-avatar.png';\n?>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Student Dashboard - <?= htmlspecialchars($studentName) ?></title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css\" rel=\"stylesheet\">\n    <link rel=\"icon\" href=\"../picture/tlgc_pic.jpg\" type=\"image/x-icon\">\n    <style>\n        :root {\n            --primary-green: #2e7d32;\n            --light-green: #e8f5e9;\n            --accent-green: #43a047;\n            --hover-green: #c8e6c9;\n            --dark-green: #1b5e20;\n        }\n\n        body {\n            background: linear-gradient(135deg, var(--light-green) 0%, #f1f8e9 100%);\n            min-height: 100vh;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        .navbar {\n            background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%);\n            box-shadow: 0 2px 10px rgba(46, 125, 50, 0.3);\n        }\n\n        .navbar-brand, .nav-link {\n            color: #fff !important;\n            font-weight: 600;\n            letter-spacing: 0.5px;\n            transition: all 0.3s ease;\n        }\n\n        .nav-link:hover {\n            color: var(--hover-green) !important;\n            transform: translateY(-1px);\n        }\n\n        .school-logo {\n            width: 50px;\n            height: 50px;\n            object-fit: cover;\n            border-radius: 50%;\n            margin-right: 15px;\n            border: 3px solid #fff;\n            transition: transform 0.3s ease;\n        }\n\n        .school-logo:hover {\n            transform: scale(1.1);\n        }\n\n        .profile-card {\n            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n            border-radius: 20px;\n            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.15);\n            padding: 2rem;\n            margin-bottom: 2rem;\n            border: 1px solid rgba(46, 125, 50, 0.1);\n        }\n\n        .profile-pic {\n            width: 120px;\n            height: 120px;\n            object-fit: cover;\n            border-radius: 50%;\n            border: 4px solid var(--accent-green);\n            box-shadow: 0 4px 15px rgba(67, 160, 71, 0.3);\n            transition: transform 0.3s ease;\n        }\n\n        .profile-pic:hover {\n            transform: scale(1.05);\n        }\n\n        .stats-card {\n            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n            border-radius: 15px;\n            padding: 1.5rem;\n            text-align: center;\n            border: none;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n            transition: all 0.3s ease;\n            height: 100%;\n        }\n\n        .stats-card:hover {\n            transform: translateY(-5px);\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n        }\n\n        .stats-icon {\n            font-size: 2.5rem;\n            margin-bottom: 1rem;\n            display: block;\n        }\n\n        .icon-enrollment { color: #4caf50; }\n        .icon-subjects { color: #2196f3; }\n        .icon-documents { color: #ff9800; }\n        .icon-profile { color: #9c27b0; }\n\n        .quick-action-card {\n            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n            border-radius: 15px;\n            padding: 1.5rem;\n            border: none;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n            transition: all 0.3s ease;\n            height: 100%;\n        }\n\n        .quick-action-card:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);\n        }\n\n        .status-badge {\n            padding: 8px 16px;\n            border-radius: 25px;\n            font-weight: 600;\n            font-size: 0.9rem;\n        }\n\n        .status-approved { background-color: #4caf50; color: white; }\n        .status-pending { background-color: #ff9800; color: white; }\n        .status-rejected { background-color: #f44336; color: white; }\n        .status-not-enrolled { background-color: #9e9e9e; color: white; }\n\n        .section-title {\n            color: var(--primary-green);\n            font-weight: 700;\n            margin-bottom: 1.5rem;\n            position: relative;\n            padding-bottom: 10px;\n        }\n\n        .section-title::after {\n            content: '';\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 50px;\n            height: 3px;\n            background: linear-gradient(90deg, var(--accent-green), var(--primary-green));\n            border-radius: 2px;\n        }\n\n        .btn-custom {\n            background: linear-gradient(135deg, var(--accent-green) 0%, var(--primary-green) 100%);\n            border: none;\n            color: white;\n            font-weight: 600;\n            padding: 10px 20px;\n            border-radius: 25px;\n            transition: all 0.3s ease;\n            text-decoration: none;\n            display: inline-block;\n        }\n\n        .btn-custom:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 5px 15px rgba(67, 160, 71, 0.4);\n            color: white;\n        }\n\n        .list-group-item {\n            border: none;\n            border-radius: 10px !important;\n            margin-bottom: 8px;\n            transition: all 0.3s ease;\n            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n        }\n\n        .list-group-item:hover {\n            background: linear-gradient(135deg, var(--light-green) 0%, var(--hover-green) 100%);\n            transform: translateX(5px);\n            color: var(--dark-green);\n        }\n\n        .welcome-text {\n            background: linear-gradient(135deg, var(--primary-green), var(--accent-green));\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            background-clip: text;\n            font-weight: 700;\n        }\n\n        .footer {\n            background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%);\n            color: white;\n            text-align: center;\n            padding: 2rem 0;\n            margin-top: 3rem;\n        }\n\n        @media (max-width: 768px) {\n            .profile-card {\n                text-align: center;\n            }\n            \n            .stats-card {\n                margin-bottom: 1rem;\n            }\n        }\n    </style>\n</head>\n<body>\n    <!-- Navigation -->\n    <nav class=\"navbar navbar-expand-lg sticky-top\">\n        <div class=\"container\">\n            <a class=\"navbar-brand d-flex align-items-center\" href=\"#\">\n                <img src=\"../picture/tlgc_pic.jpg\" alt=\"School Logo\" class=\"school-logo\">\n                <span>Student Portal</span>\n            </a>\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <ul class=\"navbar-nav ms-auto\">\n                    <li class=\"nav-item dropdown\">\n                        <a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\">\n                            <i class=\"bi bi-person-circle\"></i> <?= htmlspecialchars($student['first_name']) ?>\n                        </a>\n                        <ul class=\"dropdown-menu\">\n                            <li><a class=\"dropdown-item\" href=\"history&Profile/Edit Profile.php\"><i class=\"bi bi-person-gear\"></i> Edit Profile</a></li>\n                            <li><a class=\"dropdown-item\" href=\"history&Profile/Change Password.php\"><i class=\"bi bi-key\"></i> Change Password</a></li>\n                            <li><hr class=\"dropdown-divider\"></li>\n                            <li><a class=\"dropdown-item\" href=\"../logregfor/logout.php\"><i class=\"bi bi-box-arrow-right\"></i> Logout</a></li>\n                        </ul>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"container my-4\">\n        <!-- Welcome Section -->\n        <div class=\"profile-card\">\n            <div class=\"row align-items-center\">\n                <div class=\"col-md-3 text-center\">\n                    <img src=\"<?= htmlspecialchars('../' . $photo) ?>\" alt=\"Profile Picture\" class=\"profile-pic\" onerror=\"this.src='../student/uploads/default-avatar.png'\">\n                </div>\n                <div class=\"col-md-9\">\n                    <h2 class=\"welcome-text mb-2\">Welcome back, <?= htmlspecialchars($student['first_name']) ?>!</h2>\n                    <h4 class=\"text-dark mb-3\"><?= htmlspecialchars($studentName) ?></h4>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <p class=\"mb-1\"><strong>Student ID:</strong> <?= htmlspecialchars($student['student_id']) ?></p>\n                            <p class=\"mb-1\"><strong>Email:</strong> <?= htmlspecialchars($student['email']) ?></p>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <p class=\"mb-1\"><strong>Program:</strong> <?= htmlspecialchars($enrollment['program']) ?></p>\n                            <p class=\"mb-1\"><strong>Status:</strong> \n                                <span class=\"status-badge status-<?= str_replace('_', '-', $enrollment['status']) ?>\">\n                                    <?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?>\n                                </span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Statistics Cards -->\n        <div class=\"row mb-4\">\n            <div class=\"col-md-3 col-sm-6 mb-3\">\n                <div class=\"stats-card\">\n                    <i class=\"bi bi-journal-check stats-icon icon-enrollment\"></i>\n                    <h5>Enrollment</h5>\n                    <p class=\"text-muted mb-0\"><?= ucfirst(str_replace('_', ' ', $enrollment['status'])) ?></p>\n                </div>\n            </div>\n            <div class=\"col-md-3 col-sm-6 mb-3\">\n                <div class=\"stats-card\">\n                    <i class=\"bi bi-book stats-icon icon-subjects\"></i>\n                    <h5>Subjects</h5>\n                    <p class=\"text-muted mb-0\"><?= $subjectCount ?> Assigned</p>\n                </div>\n            </div>\n            <div class=\"col-md-3 col-sm-6 mb-3\">\n                <div class=\"stats-card\">\n                    <i class=\"bi bi-file-earmark-text stats-icon icon-documents\"></i>\n                    <h5>Documents</h5>\n                    <p class=\"text-muted mb-0\"><?= $docCount ?> Uploaded</p>\n                </div>\n            </div>\n            <div class=\"col-md-3 col-sm-6 mb-3\">\n                <div class=\"stats-card\">\n                    <i class=\"bi bi-person-badge stats-icon icon-profile\"></i>\n                    <h5>Profile</h5>\n                    <p class=\"text-muted mb-0\">Complete</p>\n                </div>\n            </div>\n        </div>\n\n        <!-- Quick Actions -->\n        <h3 class=\"section-title\">Quick Actions</h3>\n        <div class=\"row mb-4\">\n            <div class=\"col-md-4 mb-3\">\n                <div class=\"quick-action-card\">\n                    <h5 class=\"text-primary\"><i class=\"bi bi-journal-plus\"></i> Enrollment</h5>\n                    <p class=\"text-muted\">Manage your enrollment status and view details</p>\n                    <a href=\"MyEnrollAssignUpload/enrollment-status.php\" class=\"btn-custom\">View Status</a>\n                </div>\n            </div>\n            <div class=\"col-md-4 mb-3\">\n                <div class=\"quick-action-card\">\n                    <h5 class=\"text-success\"><i class=\"bi bi-books\"></i> My Subjects</h5>\n                    <p class=\"text-muted\">View your assigned subjects and schedule</p>\n                    <a href=\"MyEnrollAssignUpload/mysubject.php\" class=\"btn-custom\">View Subjects</a>\n                </div>\n            </div>\n            <div class=\"col-md-4 mb-3\">\n                <div class=\"quick-action-card\">\n                    <h5 class=\"text-warning\"><i class=\"bi bi-cloud-upload\"></i> Documents</h5>\n                    <p class=\"text-muted\">Upload and manage your documents</p>\n                    <a href=\"Documents/UploadRequirements.php\" class=\"btn-custom\">Upload Files</a>\n                </div>\n            </div>\n        </div>\n\n        <!-- Navigation Menu -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <h4 class=\"section-title\">Enrollment Services</h4>\n                <div class=\"list-group\">\n                    <a href=\"Enrollment/fill-up-enrollment-form.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-pencil-square me-2\"></i>Fill-up Enrollment Form\n                    </a>\n                    <a href=\"Enrollment/enrollment-status.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-eye me-2\"></i>View Enrollment Status\n                    </a>\n                    <a href=\"Enrollment/view_assigned_subjects.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-book me-2\"></i>View Assigned Subjects\n                    </a>\n                    <a href=\"Enrollment/print-enrollment-slip.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-printer me-2\"></i>Print Enrollment Slip\n                    </a>\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <h4 class=\"section-title\">Student Services</h4>\n                <div class=\"list-group\">\n                    <a href=\"Documents/UploadRequirements.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-upload me-2\"></i>Upload Requirements\n                    </a>\n                    <a href=\"Documents/View Uploaded Files.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-files me-2\"></i>View Uploaded Files\n                    </a>\n                    <a href=\"history&Profile/Enrollment History.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-clock-history me-2\"></i>Enrollment History\n                    </a>\n                    <a href=\"history&Profile/Edit Profile.php\" class=\"list-group-item list-group-item-action\">\n                        <i class=\"bi bi-person-gear me-2\"></i>Edit Profile\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Footer -->\n    <footer class=\"footer\">\n        <div class=\"container\">\n            <p class=\"mb-0\">&copy; <?= date('Y') ?> Top Link Global College Inc. All rights reserved.</p>\n            <p class=\"mb-0\">Enrollment Management System</p>\n        </div>\n    </footer>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\n    <script>\n        // Add some interactive effects\n        document.addEventListener('DOMContentLoaded', function() {\n            // Animate cards on scroll\n            const cards = document.querySelectorAll('.stats-card, .quick-action-card');\n            \n            const observer = new IntersectionObserver((entries) => {\n                entries.forEach(entry => {\n                    if (entry.isIntersecting) {\n                        entry.target.style.opacity = '1';\n                        entry.target.style.transform = 'translateY(0)';\n                    }\n                });\n            });\n\n            cards.forEach(card => {\n                card.style.opacity = '0';\n                card.style.transform = 'translateY(20px)';\n                card.style.transition = 'all 0.6s ease';\n                observer.observe(card);\n            });\n        });\n    </script>\n</body>\n</html>\n"
        }
    ]
}